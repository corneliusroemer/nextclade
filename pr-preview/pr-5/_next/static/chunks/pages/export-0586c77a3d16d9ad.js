(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[914],{72773:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/export",function(){return c(40889)}])},83887:function(o,c,a){"use strict";a.d(c,{Hu:function(){return w},I5:function(){return y},Jm:function(){return z},KT:function(){return v}});var p=a(28354),q=a(60822),d=a(94273),r=a.n(d),e=a(1890),f=a(36996),g=a(45679),h=a(55097),i=a(75740),b=a(37536),s=a(59263);function t(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function u(b,a){return a||(a=b.slice(0)),Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(a)}}))}function j(){var a=u(["\n  border-bottom: 0 !important;\n"]);return j=function(){return a},a}function k(){var a=u(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  overflow: hidden;\n  margin-top: -1px;\n"]);return k=function(){return a},a}function l(){var a=u(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  overflow: auto;\n  border: 1px #ccc9 solid;\n  border-bottom-left-radius: 5px;\n  border-bottom-right-radius: 5px;\n  border-top-right-radius: 5px;\n  padding: 1rem;\n"]);return l=function(){return a},a}function m(){var a=u(["\n  cursor: pointer;\n\n  border: #ccc 1px solid;\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n\n  background: #ddd;\n  min-width: 170px;\n\n  border-bottom: 0 !important;\n\n  margin-right: 0.25rem;\n  z-index: 2;\n\n  text-decoration: none !important;\n\n  .active {\n    font-weight: bold;\n    background-color: "," !important;\n  }\n\n  .nav-link,\n  .nav-link:focus {\n    box-shadow: none !important;\n\n    &:hover {\n      box-shadow: none !important;\n    }\n  }\n\n  .nav-link.active,\n  .nav-link.active:focus {\n    box-shadow: none !important;\n  }\n\n  .nav-link.disabled {\n    box-shadow: none !important;\n  }\n"]);return m=function(){return a},a}function n(){var a=u(["\n  color: ",";\n  text-align: center;\n"]);return n=function(){return a},a}function v(a){var b=a.children;return(0,p.jsx)(x,{tabs:!0,children:b})}function w(a){var b=a.tabId,e=a.activeTabId,f=a.setActiveTabId,g=a.children,c=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(a,["tabId","activeTabId","setActiveTabId","children"]),h=(0,q.useCallback)(function(){return f(b)},[f,b]),d=e===b,i=(0,q.useMemo)(function(){return c.href?{tag:s.r,replace:!0}:{}},[c.href]);return(0,p.jsx)(A,function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){t(d,a,c[a])})}return d}({className:r()({active:d})},c,i,{children:(0,p.jsx)(B,{tag:"nav",className:r()({active:d}),onClick:h,children:g})}))}var x=(0,b.ZP)(e.Z).withConfig({componentId:"sc-5e969eb3-0"})(j()),y=(0,b.ZP)(f.Z).withConfig({componentId:"sc-5e969eb3-1"})(k()),z=(0,b.ZP)(g.Z).withConfig({componentId:"sc-5e969eb3-2"})(l()),A=(0,b.ZP)(h.Z).withConfig({componentId:"sc-5e969eb3-3"})(m(),function(a){return a.theme.white}),B=(0,b.ZP)(i.Z).withConfig({componentId:"sc-5e969eb3-4"})(n(),function(a){return a.theme.bodyColor})},13524:function(c,b,a){"use strict";a.d(b,{R:function(){return j}});var d=a(28354),e=a(60822),f=a(85583),g=a(16130),h=a(69068),i=a(87181);function j(){var b=(0,i._)().t,a=(0,g.sJ)(h.CI),c=(0,e.useMemo)(function(){return b("Choose between {{ n }} datasets",{n:a})},[a,b]);return(0,d.jsx)(f.Z,{title:c,className:"ml-1",color:"secondary",size:"sm",children:a})}},92551:function(e,b,a){"use strict";a.d(b,{v:function(){return v}});var f=a(28354),g=a(31382),h=a(60822),i=a(85583),j=a(26417),k=a(69068),c=a(37536),l=a(16130),m=a(56200),n=a(27037),o=a(99902),p=a(71355),q=a(86374),r=a(87181);function s(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function t(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function u(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){t(d,a,c[a])})}return d}function d(){var a,b,c=(a=["\n  padding: 0.4rem 0.2rem;\n  cursor: ",";\n  pointer-events: auto;\n  background-color: ",";\n  color: ",";\n"],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return d=function(){return c},c}function v(){var a,b,i=(0,r._)().t,c=(a=(0,l.FV)(o.yW),b=2,function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,b)||function(a,c){if(a){if("string"==typeof a)return s(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return s(a,c)}}(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),j=c[0],t=c[1],u=(0,l.sJ)(k._L),v=(0,l.sJ)(o.nh),w=(0,l.sJ)(p._e),d=(0,h.useMemo)(function(){var b,a=(null!=v?v:[]).map(function(a){var b,c=!(0,g.isNil)(w.get(a.path));return{value:a.path,dataset:a,label:null!==(b=(0,n.w8)(a.attributes,"name"))&& void 0!==b?b:a.path,hasTree:c}});u&&a.push({value:o.$m,label:i("Unclassified")});var c=null!==(b=a.find(function(a){return a.value===j}))&& void 0!==b?b:a[0];return{options:a,currentOption:c}},[w,v,u,i,j]),e=d.options,x=d.currentOption,y=(0,h.useCallback)(function(a,f){if(a){if(a.value===o.$m){t(a.value);return}var c,d,b=null===(c=e.find(function(b){return b.value===a.value}))|| void 0===c?void 0:null===(d=c.dataset)|| void 0===d?void 0:d.path;if(b!==o.$m&&((0,g.isNil)(b)||(0,g.isEmpty)(b)))throw new q.x("Attempted to select a non-existent dataset in the viewed dataset dropdown menu: '".concat(a.value,"'"));t(b)}},[e,t]);return(0,f.jsx)(m.ZP,{components:z,options:e,value:x,isMulti:!1,onChange:y,menuPortalTarget:document.body,styles:B,theme:A,maxMenuHeight:400})}function w(a){var d=a.data,g=d.dataset,j=d.hasTree,e=a.isDisabled,k=a.isFocused,l=a.isSelected,m=a.innerRef,o=a.innerProps,b=(0,r._)().t,c=(0,h.useMemo)(function(){var a,c,d,f=g.path,e=g.attributes,h=null!==(a=(0,n.w8)(e,"name"))&& void 0!==a?a:b("Unknown"),i=null!==(c=(0,n.w8)(e,"reference name"))&& void 0!==c?c:b("Unknown"),j=null!==(d=(0,n.w8)(e,"reference accession"))&& void 0!==d?d:b("Unknown"),k="".concat(i," (").concat(j,")");return{path:f,name:h,reference:k}},[g,b]),p=c.path,q=c.name,s=c.reference;return(0,f.jsxs)(y,u({ref:m,isSelected:l,isFocused:k,isDisabled:e,"aria-disabled":e},o,{children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{children:q}),!j&&(0,f.jsx)(i.Z,{title:b("This dataset does not provide a reference tree. Related functionality is disabled."),className:"ml-1",color:"secondary",size:"sm",children:b("no tree")})]}),(0,f.jsx)("div",{className:"small",children:s}),(0,f.jsx)("div",{className:"small",children:p})]}))}function x(a){var c=a.isFocused,d=a.isSelected,e=a.innerRef,g=a.innerProps,b=(0,r._)().t;return(0,f.jsxs)(y,u({ref:e,isSelected:d,isFocused:c},g,{children:[(0,f.jsx)("div",{children:(0,f.jsx)("span",{children:b("Unclassified")})}),(0,f.jsx)("div",{className:"small",children:b("Sequences without dataset detected")}),(0,f.jsx)("div",{className:"small",children:"\xa0"})]}))}var y=c.ZP.div.withConfig({componentId:"sc-ac413049-0"})(d(),function(a){return a.isDisabled?"not-allowed":"pointer"},function(a){return a.isSelected?a.theme.primary:a.isFocused?(0,j.m4)(a.theme.primary,a.isDisabled?.1:.33):a.isDisabled?"#f9f9f9":"inherit"},function(a){return a.isDisabled?(0,j.m4)("#ccc",a.isFocused?.8:1):a.isSelected?"white":"inherit"}),z={Option:function(b){var a=b.data,c=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(b,["data"]);if(!(0,g.isNil)(a.dataset)){var d=u({data:u({},a,{dataset:a.dataset})},c);return(0,f.jsx)(w,u({},d))}return(0,f.jsx)(x,u({data:a},c))}};function A(a){return u({},a,{borderRadius:2,spacing:u({},a.spacing,{menuGutter:0}),colors:u({},a.colors)})}var B={menuPortal:function(a){return u({},a,{zIndex:9999})},menu:function(a){return u({},a,{width:400})},menuList:function(a){return u({},a,{fontSize:"1rem"})},option:function(a){return u({},a,{fontSize:"1.0rem",padding:"2px 8px"})},singleValue:function(a,b){return u({},a,{fontSize:"1.0rem",display:b.selectProps.menuIsOpen?"none":"block"})}}},40889:function(O,g,a){"use strict";a.r(g),a.d(g,{"default":function(){return cb}});var d,P,h,Q=a(28354),R=a(61577),S=a(60822),T=a(16130),U=a(19343),V=a(70146),W=a(31382),X=a(99902),b=a(37536),e=a(21602),f=a(32373),c=a(10872),i=a(54043),Y=a(87181),Z=a(4052),j=a(72607),$=a.n(j),_=a(69068),aa=a(86374),ab=a(33887),ac=a(53331),ad=a(68141),k=a(60363),ae=a.n(k);function af(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function ag(a,b,c){return(ag=!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}()?function(d,e,b){var a=[null];a.push.apply(a,e);var c=new(Function.bind.apply(d,a));return b&&ai(c,b.prototype),c}:Reflect.construct).apply(null,arguments)}function ah(a){return(ah=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function ai(a,b){return(ai=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function l(a){var b="function"==typeof Map?new Map:void 0;return(l=function(a){var d;if(null===a||(d=a,-1===Function.toString.call(d).indexOf("[native code]")))return a;if("function"!=typeof a)throw new TypeError("Super expression must either be null or a function");if(void 0!==b){if(b.has(a))return b.get(a);b.set(a,c)}function c(){return ag(a,arguments,ah(this).constructor)}return c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),ai(c,a)})(a)}function aj(a,b,c){var d=new Blob([a],{type:c});(0,ac.saveAs)(d,b)}function ak(a,b){(0,ac.saveAs)(a,b)}function al(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:"application/octet-stream";ak(am(a,c),b)}function am(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"application/octet-stream",c=(0,ad.toByteArray)(a);return new Blob([c],{type:b})}function an(a){return ao.apply(this,arguments)}function ao(){var a;return(ao=(a=$().mark(function a(b){var c,d,e,f;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=b.filename,d=b.files,e=new(ae()),d.forEach(function(a){var b=a.filename,c=a.data;return e.file(b,c)}),a.next=5,e.generateAsync({type:"blob"});case 5:ak(f=a.sent,c);case 7:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){af(g,e,f,d,h,"next",a)}function h(a){af(g,e,f,d,h,"throw",a)}d(void 0)})})).apply(this,arguments)}l(Error);var ap=a(57635),aq=a(71355),ar=a(27751);function as(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function at(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){as(g,e,f,d,h,"next",a)}function h(a){as(g,e,f,d,h,"throw",a)}d(void 0)})}}var au=function(){"use strict";function c(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,c)}var b=c.prototype;return b.init=function(){var b=this;return at($().mark(function c(){return $().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,ar.C)(new Worker(new URL(a.p+a.u(268),a.b)));case 2:b.thread=c.sent;case 3:case"end":return c.stop()}},c)}))()},b.serializeResultsJson=function(a,b,c,d,e,f){var g=this;return at($().mark(function h(){return $().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",g.thread.serializeResultsJson(a,b,c,d,e,f));case 1:case"end":return h.stop()}},h)}))()},b.serializeResultsCsv=function(a,b,c,d,e,f,g,h){var i=this;return at($().mark(function j(){return $().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",i.thread.serializeResultsCsv(a,b,c,d,e,f,g,h));case 1:case"end":return j.stop()}},j)}))()},b.serializeResultsExcel=function(a,b,c,d,e,f){var g=this;return at($().mark(function h(){return $().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",g.thread.serializeResultsExcel(a,b,c,d,e,f));case 1:case"end":return h.stop()}},h)}))()},b.serializeResultsNdjson=function(a,b){var c=this;return at($().mark(function d(){return $().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",c.thread.serializeResultsNdjson(a,b));case 1:case"end":return d.stop()}},d)}))()},b.serializeResultsGff=function(a){var b=this;return at($().mark(function c(){return $().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",b.thread.serializeResultsGff(a));case 1:case"end":return c.stop()}},c)}))()},b.serializeResultsTbl=function(a){var b=this;return at($().mark(function c(){return $().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",b.thread.serializeResultsTbl(a));case 1:case"end":return c.stop()}},c)}))()},b.serializeUnknownCsv=function(a,b,c){var d=this;return at($().mark(function e(){return $().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.thread.serializeUnknownCsv(a,b,c));case 1:case"end":return e.stop()}},e)}))()},b.destroy=function(){var a=this;return at($().mark(function b(){return $().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,a.thread.destroy();case 2:case"end":return b.stop()}},b)}))()},c.get=function(){var a=this;return at($().mark(function b(){return $().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(a.self){b.next=4;break}return a.self=new c,b.next=4,a.self.init();case 4:return b.abrupt("return",a.self);case 5:case"end":return b.stop()}},b)}))()},c.destroy=function(){var a=this;return at($().mark(function b(){var c;return $().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=3,null===(c=a.self)|| void 0===c?void 0:c.destroy();case 3:a.self=void 0;case 4:case"end":return b.stop()}},b)}))()},c}();function av(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function aw(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function ax(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){aw(g,e,f,d,h,"next",a)}function h(a){aw(g,e,f,d,h,"throw",a)}d(void 0)})}}function ay(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,b)||aA(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function az(a){return function(a){if(Array.isArray(a))return av(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||aA(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aA(a,c){if(a){if("string"==typeof a)return av(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return av(a,c)}}var aB={filenameZip:"nextclade.zip",filenameCsv:"nextclade.csv",filenameTsv:"nextclade.tsv",filenameJson:"nextclade.json",filenameNdjson:"nextclade.ndjson",filenameTree:"nextclade.auspice.json",filenameTreeNwk:"nextclade.nwk",filenameFasta:"nextclade.aligned.fasta",filenamePeptidesZip:"nextclade.peptides.fasta.zip",filenamePeptidesTemplate:"nextclade.cds_translation.{{cds}}.fasta",filenameGff:"nextclade.gff",filenameTbl:"nextclade.tbl",filenameExcel:"nextclade.xlsx",filenameUnknownTsv:"nextclade.unclassified.tsv"};function aC(c){var a=(0,S.useState)(!1),d=a[0],e=a[1],b=(0,S.useState)(!1),f=b[0],h=b[1],g=(0,T._8)(function(a){var d=a.set,b=a.snapshot,f=b.retain();return function(g){var a;e(!0),au.get().then((a=ax($().mark(function a(d){var e;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c(g,b,d);case 2:return e=a.sent,h(!0),a.abrupt("return",e);case 5:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)})).catch(function(a){d(ap.YY,a)}).finally(function(){f(),e(!1)})}},[c,e]);return{isRunning:d,isDone:f,fn:g}}function aD(a,b){return aE.apply(this,arguments)}function aE(){return(aE=ax($().mark(function a(b,c){var d;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.getPromise(aq.H$);case 2:return d=a.sent,a.abrupt("return",d.filter(function(a){return(0,ab.$H)(a.result)}).map(function(a){if(!a.result)throw new aa.x("When preparing analysis results for export: expected result to be non-nil");return c(a.result)}));case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aF(a,b){return aG.apply(this,arguments)}function aG(){return(aG=ax($().mark(function a(b,c){var d;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.getPromise(aq.H$);case 2:return d=a.sent,a.abrupt("return",d.filter(function(a){return(0,ab.$H)(a.error)}).map(function(a){var b=a.error,d=a.seqName,e=a.index;if(!b)throw new aa.x("When preparing analysis errors for export: expected error to be non-nil");return c({index:e,seqName:d,errors:[b]})}));case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aH(a,b,c){return aI.apply(this,arguments)}function aI(){return(aI=ax($().mark(function a(b,c,d){var e;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.getPromise(aq.H$);case 2:return e=a.sent.filter(function(b){var a;return(null===(a=b.result)|| void 0===a?void 0:a.analysisResult.datasetName)===c}),a.abrupt("return",e.filter(function(a){return(0,ab.$H)(a.result)}).map(function(a){if(!a.result)throw new aa.x("When preparing analysis results for export: expected result to be non-nil");return d(a.result)}));case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aJ(a,b,c){return aK.apply(this,arguments)}function aK(){return(aK=ax($().mark(function a(b,c,d){var e;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.getPromise(aq.H$);case 2:return e=a.sent.filter(function(b){var a;return(null===(a=b.result)|| void 0===a?void 0:a.analysisResult.datasetName)===c}),a.abrupt("return",e.filter(function(a){return(0,ab.$H)(a.error)}).map(function(a){var b=a.error,c=a.seqName,e=a.index;if(!b)throw new aa.x("When preparing analysis errors for export: expected error to be non-nil");return d({index:e,seqName:c,errors:[b]})}));case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aL(a,b){return aM.apply(this,arguments)}function aM(){return(aM=ax($().mark(function a(b,c){var d;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aH(b,c,function(a){return">".concat(a.analysisResult.seqName,"\n").concat(a.query)});case 2:return d=a.sent.join("\n"),d+="\n",a.abrupt("return",d);case 5:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aN(a,b,c,d){return aO.apply(this,arguments)}function aO(){return(aO=ax($().mark(function a(b,c,d,e){var f,g,h,i,j,k,l;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aH(b,c,function(a){return a.analysisResult});case 2:return f=a.sent,a.next=5,aJ(b,c,function(a){return a});case 5:return g=a.sent,a.next=8,b.getPromise((0,aq.Ei)({datasetName:c}));case 8:return h=a.sent,a.next=11,b.getPromise((0,aq.En)({datasetName:c}));case 11:return i=a.sent,a.next=14,b.getPromise((0,aq.we)({datasetName:c}));case 14:return j=a.sent,a.next=17,b.getPromise((0,aq.$r)({datasetName:c}));case 17:return k=a.sent,a.next=20,b.getPromise(aq._d);case 20:if(l=a.sent){a.next=23;break}throw new aa.x("CSV column config is not initialized, but it should be");case 23:return a.abrupt("return",d.serializeResultsCsv(f,g,null!=h?h:[],null!=i?i:[],null!=j?j:{},null!=k?k:[],e,l));case 24:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aP(a){var b,c=a.datasetName;return aC((b=ax($().mark(function a(b,d,e){var f;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aN(d,c,e,";");case 2:aj(f=a.sent,b,"text/csv;charset=utf-8");case 4:case"end":return a.stop()}},a)})),function(a,c,d){return b.apply(this,arguments)}))}function aQ(a){var b,c=a.datasetName;return aC((b=ax($().mark(function a(b,d,e){var f;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aN(d,c,e,"	");case 2:aj(f=a.sent,b,"text/tab-separated-values;charset=utf-8");case 4:case"end":return a.stop()}},a)})),function(a,c,d){return b.apply(this,arguments)}))}function aR(a,b){return aS.apply(this,arguments)}function aS(){return(aS=ax($().mark(function a(b,c){var d,e,f,g,h,i;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aD(b,function(a){return a.analysisResult});case 2:return d=a.sent,a.next=5,aF(b,function(a){return a});case 5:return e=a.sent,a.next=8,b.getPromise(aq.js);case 8:return f=a.sent,a.next=11,b.getPromise(aq._d);case 11:return g=a.sent,a.next=14,b.getPromise(_.iY);case 14:return h=a.sent,a.next=17,b.getPromise(_.uK);case 17:if(i=a.sent,g){a.next=20;break}throw new aa.x("CSV column config is not initialized, but it should be");case 20:return a.abrupt("return",c.serializeResultsExcel(d,e,f,g,h,i));case 21:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aT(a,b,c){return aU.apply(this,arguments)}function aU(){return(aU=ax($().mark(function a(b,c,d){var e,f,g,h,i,j,k,l;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aH(b,c,function(a){return a.analysisResult});case 2:return e=a.sent,a.next=5,aJ(b,c,function(a){return a});case 5:return f=a.sent,a.next=9,b.getPromise((0,aq.Ei)({datasetName:c}));case 9:if(a.t1=g=a.sent,a.t0=null!==a.t1,!a.t0){a.next=13;break}a.t0=void 0!==g;case 13:if(!a.t0){a.next=17;break}a.t2=g,a.next=18;break;case 17:a.t2=[];case 18:return h=a.t2,a.next=22,b.getPromise((0,aq.En)({datasetName:c}));case 22:if(a.t4=i=a.sent,a.t3=null!==a.t4,!a.t3){a.next=26;break}a.t3=void 0!==i;case 26:if(!a.t3){a.next=30;break}a.t5=i,a.next=31;break;case 30:a.t5=[];case 31:return j=a.t5,a.next=35,b.getPromise((0,aq.we)({datasetName:c}));case 35:if(a.t7=k=a.sent,a.t6=null!==a.t7,!a.t6){a.next=39;break}a.t6=void 0!==k;case 39:if(!a.t6){a.next=43;break}a.t8=k,a.next=44;break;case 43:a.t8={};case 44:return l=a.t8,a.abrupt("return",d.serializeResultsJson(e,f,h,j,l,"3.13.2"));case 46:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aV(a,b,c){return aW.apply(this,arguments)}function aW(){return(aW=ax($().mark(function a(b,c,d){var e,f;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aH(b,c,function(a){return a.analysisResult});case 2:return e=a.sent,a.next=5,aJ(b,c,function(a){return a});case 5:return f=a.sent,a.abrupt("return",d.serializeResultsNdjson(e,f));case 7:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aX(a,b){return aY.apply(this,arguments)}function aY(){return(aY=ax($().mark(function a(b,c){var d;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.getPromise((0,aq.U5)(c));case 2:if(d=a.sent){a.next=5;break}return a.abrupt("return",void 0);case 5:return a.abrupt("return",JSON.stringify(d,null,2));case 6:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aZ(a,b){return a$.apply(this,arguments)}function a$(){return(a$=ax($().mark(function a(b,c){return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",b.getPromise((0,aq.bl)({datasetName:c})));case 1:case"end":return a.stop()}},a)}))).apply(this,arguments)}function a_(a,b){return a0.apply(this,arguments)}function a0(){return(a0=ax($().mark(function a(b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aH(b,c,function(a){var b=a.translation,c=a.analysisResult.seqName;return{seqName:c,translation:b}});case 2:d=a.sent,e=new Map,f=!0,g=!1,h=void 0,a.prev=5,i=d[Symbol.iterator]();case 7:if(f=(j=i.next()).done){a.next=51;break}l=(k=j.value).seqName,m=k.translation,n=!0,o=!1,p=void 0,a.prev=10,q=Object.entries(m.genes)[Symbol.iterator]();case 12:if(n=(r=q.next()).done){a.next=34;break}for(t=(s=ay(r.value,2))[0],u=s[1].cdses,v=!0,w=!1,x=void 0,a.prev=15,y=Object.entries(u)[Symbol.iterator]();!(v=(z=y.next()).done);v=!0)B=(A=ay(z.value,2))[0],C=A[1],D=C.name,E=C.seq,F=e.get(D),G=">".concat(l,"\n").concat(E,"\n"),F?F.data="".concat(F.data).concat(G):(H=(H=aB.filenamePeptidesTemplate).replace("{{cds}}",D),e.set(D,{filename:H,data:G}));a.next=23;break;case 19:a.prev=19,a.t0=a.catch(15),w=!0,x=a.t0;case 23:a.prev=23,a.prev=24,v||null==y.return||y.return();case 26:if(a.prev=26,!w){a.next=29;break}throw x;case 29:return a.finish(26);case 30:return a.finish(23);case 31:n=!0,a.next=12;break;case 34:a.next=40;break;case 36:a.prev=36,a.t1=a.catch(10),o=!0,p=a.t1;case 40:a.prev=40,a.prev=41,n||null==q.return||q.return();case 43:if(a.prev=43,!o){a.next=46;break}throw p;case 46:return a.finish(43);case 47:return a.finish(40);case 48:f=!0,a.next=7;break;case 51:a.next=57;break;case 53:a.prev=53,a.t2=a.catch(5),g=!0,h=a.t2;case 57:a.prev=57,a.prev=58,f||null==i.return||i.return();case 60:if(a.prev=60,!g){a.next=63;break}throw h;case 63:return a.finish(60);case 64:return a.finish(57);case 65:return a.abrupt("return",Array.from(e.values()));case 66:case"end":return a.stop()}},a,null,[[5,53,57,65],[10,36,40,48],[15,19,23,31],[24,,26,30],[41,,43,47],[58,,60,64]])}))).apply(this,arguments)}function a1(a,b,c){return a2.apply(this,arguments)}function a2(){return(a2=ax($().mark(function a(b,c,d){var e;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aH(b,c,function(a){return a.analysisResult});case 2:return e=a.sent,a.abrupt("return",d.serializeResultsGff(e));case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}function a3(a,b,c){return a4.apply(this,arguments)}function a4(){return(a4=ax($().mark(function a(b,c,d){var e;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aH(b,c,function(a){return a.analysisResult});case 2:return e=a.sent,a.abrupt("return",d.serializeResultsTbl(e));case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}function a5(a,b,c){return a6.apply(this,arguments)}function a6(){return(a6=ax($().mark(function a(b,c,d){var e,f;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aF(b,function(a){return a});case 2:return e=a.sent,a.next=5,b.getPromise(_.uK);case 5:return f=a.sent,a.abrupt("return",c.serializeUnknownCsv(e,f,d));case 7:case"end":return a.stop()}},a)}))).apply(this,arguments)}var a7=a(28072);function a8(b,a){return a||(a=b.slice(0)),Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(a)}}))}function m(){var a=a8(["\n  width: 70px;\n  height: 50px;\n"]);return m=function(){return a},a}function n(){var a=a8(["\n  height: 2rem;\n  padding: 0;\n"]);return n=function(){return a},a}function o(){var a=a8(["\n  width: 25px;\n  height: 25px;\n  margin: auto;\n"]);return o=function(){return a},a}function p(){var a=a8(["\n  width: 25px;\n  height: 25px;\n  margin-left: -1px;\n  display: inline;\n"]);return p=function(){return a},a}function q(){var a=a8(["\n  width: 25px;\n  height: 25px;\n  margin-left: -1px;\n  display: inline;\n"]);return q=function(){return a},a}function r(){var a=a8(["\n  width: 25px;\n  height: 25px;\n  margin-left: -1px;\n  display: inline;\n  color: #aaff99;\n"]);return r=function(){return a},a}function s(){var a=a8(["\n  flex: 1;\n  overflow: auto;\n"]);return s=function(){return a},a}function t(){var a=a8(["\n  margin: 10px 7px;\n  display: flex;\n  padding: 0.5rem 1rem;\n  box-shadow: 0 0 12px 0 #0004;\n  border: 1px #ccc9 solid;\n  border-radius: 5px;\n  opacity: ",";\n"]);return t=function(){return a},a}function a9(p){var ae,q,r,af,s,t,ag,u,v,ah,w,x,ai,y,z,ak,A,B,C=p.setActiveTabId,a=(0,Y._)().t,b=(0,T.sJ)(X.yW),D=(0,S.useCallback)(function(){C("column-config")},[C]),o=(0,S.useMemo)(function(){return(0,Q.jsx)(U.Z,{noGutters:!0,children:(0,Q.jsx)(V.Z,{children:(0,Q.jsx)(bc,{color:"link",onClick:D,children:a("Configure columns")})})})},[D,a]),g=(q=b,aC((r=ax($().mark(function a(b,c,d){var e,f,g,h,i,j,k,l,m,n,o;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aN(c,q,d,";");case 2:return e=a.sent,a.next=5,aN(c,q,d,"	");case 5:return f=a.sent,a.next=8,aT(c,q,d);case 8:return g=a.sent,a.next=11,aV(c,q,d);case 11:return h=a.sent,a.next=14,aX(c,q);case 14:return i=a.sent,a.next=17,aZ(c,q);case 17:return j=a.sent,a.next=20,aL(c,q);case 20:return k=a.sent,a.next=23,a_(c,q);case 23:return l=a.sent,a.next=26,a1(c,q,d);case 26:return m=a.sent,a.next=29,a3(c,q,d);case 29:return n=a.sent,o=az(l).concat([{filename:aB.filenameCsv,data:e},{filename:aB.filenameTsv,data:f},{filename:aB.filenameJson,data:g},{filename:aB.filenameNdjson,data:h},{filename:aB.filenameFasta,data:k},]),i&&o.push({filename:aB.filenameTree,data:i}),j&&o.push({filename:aB.filenameTreeNwk,data:j}),m&&o.push({filename:aB.filenameGff,data:m}),n&&o.push({filename:aB.filenameTbl,data:n}),a.next=37,an({filename:b,files:o});case 37:case"end":return a.stop()}},a)})),function(a,b,c){return r.apply(this,arguments)}))),E=g.isRunning,F=g.isDone,G=g.fn,h=(s=b,aC((t=ax($().mark(function a(b,c){var d;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aL(c,s);case 2:aj(d=a.sent,b,"application/x-fasta;charset=utf-8");case 4:case"end":return a.stop()}},a)})),function(a,b){return t.apply(this,arguments)}))),H=h.isRunning,I=h.isDone,J=h.fn,i=aP({datasetName:b}),K=i.isRunning,L=i.isDone,M=i.fn,j=aQ({datasetName:b}),N=j.isRunning,O=j.isDone,P=j.fn,k=(u=b,aC((v=ax($().mark(function a(b,c,d){var e;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aT(c,u,d);case 2:aj(e=a.sent,b,"application/json;charset=utf-8");case 4:case"end":return a.stop()}},a)})),function(a,b,c){return v.apply(this,arguments)}))),R=k.isRunning,_=k.isDone,aa=k.fn,l=(w=b,aC((x=ax($().mark(function a(b,c,d){var e;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aV(c,w,d);case 2:aj(e=a.sent,b,"application/x-ndjson;charset=utf-8");case 4:case"end":return a.stop()}},a)})),function(a,b,c){return x.apply(this,arguments)}))),ab=l.isRunning,ac=l.isDone,ad=l.fn,d=function(a){var b,c=a.datasetName,d=(0,T.sJ)((0,aq.P9)({datasetName:c})),e=aC((b=ax($().mark(function a(b,d){var e;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,a_(d,c);case 2:return e=a.sent,a.next=5,an({files:e,filename:b});case 5:case"end":return a.stop()}},a)})),function(a,c){return b.apply(this,arguments)}));if(!(0,W.isEmpty)(d))return e}({datasetName:b}),m=(y=b,aC((z=ax($().mark(function a(b,c,d){var e;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,a1(c,y,d);case 2:aj(e=a.sent,b,"text/x-gff3;charset=utf-8");case 4:case"end":return a.stop()}},a)})),function(a,b,c){return z.apply(this,arguments)}))),n=(A=b,aC((B=ax($().mark(function a(b,c,d){var e;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,a3(c,A,d);case 2:aj(e=a.sent,b,"text/x-tbl;charset=utf-8");case 4:case"end":return a.stop()}},a)})),function(a,b,c){return B.apply(this,arguments)}))),e=function(a){var b,c=a.datasetName,d=(0,T.sJ)((0,aq.U5)(c)),e=aC((b=ax($().mark(function a(b,d){var e;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aX(d,c);case 2:if(e=a.sent,!(0,W.isNil)(e)){a.next=5;break}return a.abrupt("return");case 5:aj(e,b,"application/json;charset=utf-8");case 6:case"end":return a.stop()}},a)})),function(a,c){return b.apply(this,arguments)}));if(!(0,W.isNil)(d))return e}({datasetName:b}),f=function(a){var b,c=a.datasetName,d=(0,T.sJ)((0,aq.bl)({datasetName:c})),e=aC((b=ax($().mark(function a(b,d,e){var f;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aZ(d,c);case 2:if(f=a.sent,!(0,W.isNil)(f)){a.next=5;break}return a.abrupt("return");case 5:aj(f,b,"text/x-nh;charset=utf-8");case 6:case"end":return a.stop()}},a)})),function(a,c,d){return b.apply(this,arguments)}));if(!(0,W.isNil)(d))return e}({datasetName:b}),c=(0,S.useMemo)(function(){return aB},[]);return(0,Q.jsxs)(bh,{children:[(0,Q.jsx)(ba,{Icon:Z.FE,filename:c.filenameJson,HelpMain:a("Results of the analysis in {{formatName}} format.",{formatName:"JSON"}),HelpDetails:a("Contains detailed results of the analysis, such as clades, mutations, QC metrics etc., in {{formatName}} format. Convenient for further automated processing. Note that this format is unstable and can change without notice.",{formatName:"JSON"}),HelpDownload:a("Download results of the analysis in {{formatName}} format.",{formatName:"JSON"}),onDownload:aa,isRunning:R,isDone:_}),(0,Q.jsx)(ba,{Icon:Z.jd,filename:c.filenameNdjson,HelpMain:a("Results of the analysis in {{formatName}} format.",{formatName:"NDJSON"}),HelpDetails:a("Contains detailed results of the analysis, such as clades, mutations, QC metrics etc., in {{formatName}} format (newline-delimited JSON). Convenient for further automated processing. Note that this format is unstable and can change without notice.",{formatName:"NDJSON"}),HelpDownload:a("Download results of the analysis in {{formatName}} format.",{formatName:"NDJSON"}),onDownload:ad,isRunning:ab,isDone:ac}),(0,Q.jsx)(ba,{Icon:Z.$,filename:c.filenameCsv,HelpMain:a("Summarized results of the analysis in {{formatName}} format.",{formatName:"CSV"}),HelpDetails:a("Contains summarized results of the analysis, such as clades, mutations, QC metrics etc., in tabular format. Convenient for further review and processing using spreadsheets or data-science tools."),HelpDownload:a("Download summarized results in {{formatName}} format.",{formatName:"CSV"}),Config:o,onDownload:M,isRunning:K,isDone:L}),(0,Q.jsx)(ba,{Icon:Z.yH,filename:c.filenameTsv,HelpMain:a("Summarized results of the analysis in {{formatName}} format.",{formatName:"TSV"}),HelpDetails:a("Contains summarized results of the analysis, such as clades, mutations, QC metrics etc., in tabular format. Convenient for further review and processing using spreadsheets or data-science tools."),HelpDownload:a("Download summarized results in {{formatName}} format.",{formatName:"TSV"}),Config:o,onDownload:P,isRunning:N,isDone:O}),(0,Q.jsx)(ba,{Icon:Z.FE,filename:c.filenameTree,HelpMain:a("Phylogenetic tree with sequences placed onto it, in {{formatName}} format.",{formatName:"Auspice JSON v2"}),HelpDetails:(0,Q.jsxs)(Q.Fragment,{children:[a("Can be viewed locally with Nextstrain Auspice or in "),(0,Q.jsx)(a7.N,{url:"https://auspice.us",children:"auspice.us"}),"."]}),HelpDownload:a("Download phylogenetic tree with sequences placed onto it, in {{formatName}} format.",{formatName:"Auspice JSON v2"}),onDownload:null==e?void 0:e.fn,isRunning:null==e?void 0:e.isRunning,isDone:null==e?void 0:e.isDone,isDisabled:(0,W.isNil)(e)}),(0,Q.jsx)(ba,{Icon:Z.yZ,filename:c.filenameTreeNwk,HelpMain:a("Phylogenetic tree with sequences placed onto it, in {{formatName}} format.",{formatName:"Newick"}),HelpDetails:(0,Q.jsxs)(Q.Fragment,{children:[a("Can be viewed in most tree viewers, including: "),(0,Q.jsx)(a7.N,{url:"https://icytree.org/",children:"icytree.org"}),a(" or "),(0,Q.jsx)(a7.N,{url:"https://auspice.us",children:"auspice.us"}),"."]}),HelpDownload:a("Download phylogenetic tree with sequences placed onto it, in {{formatName}} format.",{formatName:"Newick"}),onDownload:null==f?void 0:f.fn,isRunning:null==f?void 0:f.isRunning,isDone:null==f?void 0:f.isDone,isDisabled:(0,W.isNil)(f)}),(0,Q.jsx)(ba,{Icon:Z.Dt,filename:c.filenameFasta,HelpMain:a("Aligned sequences in {{formatName}} format.",{formatName:"FASTA"}),HelpDetails:a("Contains aligned sequences in {{formatName}} format.",{formatName:"FASTA"}),HelpDownload:a("Download aligned sequences in {{formatName}} format.",{formatName:"FASTA"}),onDownload:J,isRunning:H,isDone:I}),(0,Q.jsx)(ba,{Icon:Z.St,filename:c.filenamePeptidesZip,HelpMain:a("Aligned peptides in {{formatName}} format, zipped",{formatName:"FASTA"}),HelpDetails:a("Contains results of translation of your sequences. One {{formatName}} file per gene, all in a zip archive.",{formatName:"FASTA"}),HelpDownload:a("Download aligned peptides in {{formatName}} format, one file per gene, all in a zip archive.",{formatName:"FASTA"}),onDownload:null==d?void 0:d.fn,isRunning:null==d?void 0:d.isRunning,isDone:null==d?void 0:d.isDone,isDisabled:(0,W.isNil)(d)}),(0,Q.jsx)(ba,{Icon:Z.GT,filename:c.filenameGff,HelpMain:a("Genome annotations in {{formatName}} format",{formatName:"GFF3"}),HelpDetails:(0,Q.jsxs)(Q.Fragment,{children:[a("Contains genome annotation for each of your sequences (except for sequences which had errors during analysis). See: "),(0,Q.jsx)(a7.N,{url:"https://github.com/The-Sequence-Ontology/Specifications/blob/master/gff3.md",children:a("GFF3 format specification")}),"."]}),HelpDownload:a("Download genome annotation in {{formatName}} format, one file per gene, all in a zip archive.",{formatName:"GFF3"}),onDownload:m.fn,isRunning:m.isRunning,isDone:m.isDone}),(0,Q.jsx)(ba,{Icon:Z.nl,filename:c.filenameTbl,HelpMain:a("Genome annotations in Genbank 5-column tab-delimited feature table (TBL) format."),HelpDetails:(0,Q.jsxs)(Q.Fragment,{children:[a("Contains genome annotation for each of your sequences (except for sequences which had errors during analysis). See: "),(0,Q.jsx)(a7.N,{url:"https://www.ncbi.nlm.nih.gov/genbank/feature_table/",children:a("TBL format specification")}),"."]}),HelpDownload:a("Download genome annotation in {{formatName}} format, one file per gene, all in a zip archive.",{formatName:"GFF3"}),onDownload:n.fn,isRunning:n.isRunning,isDone:n.isDone}),(0,Q.jsx)(ba,{Icon:Z.St,filename:c.filenameZip,HelpMain:a("All files in a {{formatName}} archive.",{formatName:"zip"}),HelpDetails:a("Contains all of the above files in a single {{formatName}} file.",{formatName:"zip"}),HelpDownload:a("Download all in {{formatName}} archive.",{formatName:"zip"}),onDownload:G,isRunning:E,isDone:F})]})}function ba(a){var e=a.Icon,b=a.filename,f=a.HelpMain,g=a.HelpDetails,h=a.HelpDownload,i=a.Config,j=a.onDownload,d=a.isRunning,k=a.isDone,c=a.isDisabled,l=(0,S.useCallback)(function(){return null==j?void 0:j(b)},[b,j]),m=b.length>0,n=(0,S.useMemo)(function(){return d?(0,Q.jsx)(bd,{size:"10px"}):k?(0,Q.jsx)(bg,{}):c?(0,Q.jsx)(bf,{}):(0,Q.jsx)(be,{})},[c,k,d]);return(0,Q.jsxs)(bi,{className:"d-flex",isDisabled:c,children:[(0,Q.jsx)("span",{className:"flex-grow-0",children:(0,Q.jsx)(e,{})}),(0,Q.jsxs)("div",{className:"mx-3 d-inline-block flex-grow-1",children:[(0,Q.jsx)("pre",{className:"mb-0 export-file-filename",children:b}),(0,Q.jsx)("p",{className:"my-0 small",children:f}),(0,Q.jsx)("p",{className:"my-0 small",children:g}),i]}),(0,Q.jsx)("div",{className:"d-inline-block ml-auto my-auto",children:(0,Q.jsx)(bb,{color:"primary",disabled:d||!m||c,title:h,onClick:l,children:n})})]})}var bb=(0,b.ZP)(e.Z).withConfig({componentId:"sc-25ddd0f0-0"})(m()),bc=(0,b.ZP)(e.Z).withConfig({componentId:"sc-25ddd0f0-1"})(n()),bd=(0,b.ZP)(f.Z).withConfig({componentId:"sc-25ddd0f0-2"})(o()),be=(0,b.ZP)(c.tEr).withConfig({componentId:"sc-25ddd0f0-3"})(p()),bf=(0,b.ZP)(c.TbM).withConfig({componentId:"sc-25ddd0f0-4"})(q()),bg=(0,b.ZP)(c.tdp).withConfig({componentId:"sc-25ddd0f0-5"})(r()),bh=(0,b.ZP)(i.w7).withConfig({componentId:"sc-25ddd0f0-6"})(s()),bi=b.ZP.li.withConfig({componentId:"sc-25ddd0f0-7"})(t(),function(a){return a.isDisabled?.5:1});function bj(){var c,a=(0,Y._)().t,b=aC((c=ax($().mark(function a(b,c,d){var e;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,a5(c,d,"	");case 2:aj(e=a.sent,b,"text/tab-separated-values;charset=utf-8");case 4:case"end":return a.stop()}},a)})),function(a,b,d){return c.apply(this,arguments)})),d=b.isRunning,e=b.isDone,f=b.fn,g=(0,S.useMemo)(function(){return aB},[]);return(0,Q.jsx)(bh,{children:(0,Q.jsx)(ba,{Icon:Z.yH,filename:g.filenameUnknownTsv,HelpMain:a("List of unclassified sequences in {{formatName}} format.",{formatName:"TSV"}),HelpDetails:a("Contains names of sequences for which Nextclade could not find a matching dataset"),HelpDownload:a("Download list of unclassified sequences in {{formatName}} format",{formatName:"TSV"}),onDownload:f,isRunning:d,isDone:e})})}var bk=a(13524),bl=a(37952),bm=a(79227);function bn(){var a=(0,Y._)().t;return(0,Q.jsxs)(bm.R,{children:[(0,Q.jsx)("p",{children:a("Here you can select a dataset for which you want to download the analysis results.")}),(0,Q.jsx)("p",{children:a("Results for each dataset are obtained independently. Each sequence belongs to one of the datasets.")}),(0,Q.jsxs)("p",{className:"p-0 m-0 small",children:[a("Learn more in Nextclade {{documentation}}"),(0,Q.jsx)(a7.N,{href:"https://docs.nextstrain.org/projects/nextclade/en/stable",children:a("documentation")})]})]})}var bo=a(92551),bp=a(83887),u=a(50291),bq=a.n(u),br=a(26417),bs=a(16082),bt=a(15605),bu=a(39921),bv=a(67693),bw=a(11215),bx=a(65322),by=a(34674),bz=a(14191),bA=a(83144);function bB(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function bC(b,a){return a||(a=b.slice(0)),Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(a)}}))}function v(){var a=bC(["\n  display: inline;\n  transition: transform linear 0.25s;\n  transform: ",";\n"]);return v=function(){return a},a}function w(){var a=bC(["\n  vertical-align: middle;\n"]);return w=function(){return a},a}var bD=(0,b.ZP)(c.gwH).withConfig({componentId:"sc-70fca362-0"})(v(),function(a){return!a.$rotated&&"rotate(-90deg)"}),bE=b.ZP.span.withConfig({componentId:"sc-70fca362-1"})(w());function bF(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function bG(a){var b=a.state,c=a.onChange,d=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(a,["state","onChange"]),e=(0,S.useRef)(null),f=(0,S.useCallback)(function(){return b===h.Checked?null==c?void 0:c(h.Unchecked):null==c?void 0:c(h.Checked)},[c,b]);(0,S.useEffect)(function(){(null==e?void 0:e.current)&&(e.current.indeterminate=b===h.Indeterminate)},[b]);var g=(0,S.useMemo)(function(){return b===h.Checked},[b]);return(0,Q.jsx)(bu.Z,function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){bF(d,a,c[a])})}return d}({},d,{type:"checkbox",innerRef:e,checked:g,onChange:f}))}function bH(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function bI(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function bJ(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){bI(d,a,c[a])})}return d}function bK(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,b)||bM(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bL(b,a){return a||(a=b.slice(0)),Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(a)}}))}function bM(a,c){if(a){if("string"==typeof a)return bH(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return bH(a,c)}}function x(){var a=bL(["\n  width: 24px !important;\n  height: 24px !important;\n"]);return x=function(){return a},a}function y(){var a=bL(["\n  width: 25px;\n  height: 25px;\n  margin-left: -1px;\n  display: inline;\n"]);return y=function(){return a},a}function z(){var a=bL(["\n  width: 25px;\n  height: 25px;\n  margin-left: -1px;\n  display: inline;\n  color: #aaff99;\n"]);return z=function(){return a},a}function A(){var a=bL(["\n  width: 160px;\n  height: 40px;\n\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return A=function(){return a},a}function B(){var a=bL(["\n  max-width: ",";\n  margin: 0 auto;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  height: 100%;\n  overflow: hidden;\n"]);return B=function(){return a},a}function C(){var a=bL(["\n  display: flex;\n  flex: 0;\n  padding-left: 10px;\n  margin-top: 10px;\n  margin-bottom: 3px;\n"]);return C=function(){return a},a}function D(){var a=bL(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  overflow: auto;\n"]);return D=function(){return a},a}function E(){var a=bL(["\n  display: flex;\n  flex: 0;\n"]);return E=function(){return a},a}function F(){var a=bL(["\n  box-shadow: none;\n  border: "," solid 1px;\n  border-radius: 0;\n\n  :first-child {\n    border-top-left-radius: 3px;\n    border-top-right-radius: 3px;\n  }\n\n  :last-child {\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n  }\n\n  :not(:last-child) {\n    border-bottom: none;\n  }\n\n  & .card-header {\n    padding: 0.5rem;\n    background-color: ",";\n  }\n\n  & .card-body {\n    padding: 0.5rem;\n    padding-left: 1.5rem;\n  }\n"]);return F=function(){return a},a}function G(){var a=bL(["\n  border-bottom: 1px dashed ",";\n  text-decoration: none;\n  cursor: help;\n"]);return G=function(){return a},a}function bN(j){var H,I,J,K,k=j.setActiveTabId,b=(0,Y._)().t,f=(0,T.sJ)(X.yW),g=bK((0,T.FV)(aq._d),2),a=g[0],c=g[1],i=(0,S.useMemo)(function(){return aB},[]),d=aP({datasetName:f}),l=d.isDone,m=d.isRunning,n=d.fn,e=aQ({datasetName:f}),o=e.isDone,p=e.isRunning,q=e.fn,r=(0,S.useCallback)(function(){return n(i.filenameCsv)},[n,i.filenameCsv]),s=(0,S.useCallback)(function(){return q(i.filenameTsv)},[i.filenameTsv,q]),t=(0,S.useMemo)(function(){return Object.entries(null!==(H=null==a?void 0:a.categories)&& void 0!==H?H:{}).map(function(c){var a=bK(c,2),b=a[0],d=a[1];return(0,Q.jsx)(bX,{category:b,columns:d},b)})},[a]),u=(0,S.useMemo)(function(){var b,c=Object.values(null!==(b=null==a?void 0:a.categories)&& void 0!==b?b:{}).flatMap(function(a){return Object.values(a)}),e=c.length,d=c.filter(Boolean).length;return 0!==d||(null==a?void 0:a.includeDynamic)?d===e&&(null==a?void 0:a.includeDynamic)?h.Checked:h.Indeterminate:h.Unchecked},[null==a?void 0:a.categories,null==a?void 0:a.includeDynamic]),v=(0,S.useCallback)(function(a){c(function(b){if(!b)return b;if(a===h.Checked){var d=b2(b,!0);return d.includeDynamic=!0,d.includeCladeFounderMuts=!0,d.includeRelMuts=!0,d}if(a===h.Unchecked){var c=b2(b,!1);return c.individual=[],c.includeDynamic=!1,c.includeCladeFounderMuts=!1,c.includeRelMuts=!1,c}return b})},[c]),w=(0,S.useMemo)(function(){return(0,Q.jsx)(bs.Z,{inline:!0,check:!0,children:(0,Q.jsxs)(bt.Z,{check:!0,children:[(0,Q.jsx)(bG,{type:"checkbox",state:u,onChange:v}),b("All categories")]})})},[u,v,b]),x=(0,S.useMemo)(function(){return null!==(I=null==a?void 0:a.includeCladeFounderMuts)&& void 0!==I&&I},[null==a?void 0:a.includeCladeFounderMuts]),y=(0,S.useCallback)(function(){c(function(a){return a?bJ({},a,{includeCladeFounderMuts:!a.includeCladeFounderMuts}):void 0})},[c]),z=(0,S.useMemo)(function(){return(0,Q.jsx)(bs.Z,{inline:!0,check:!0,children:(0,Q.jsxs)(bt.Z,{check:!0,children:[(0,Q.jsx)(bu.Z,{type:"checkbox",checked:x,onChange:y}),(0,Q.jsx)(bZ,{title:b("Mutations relative to the founder of the corresponding clade"),children:b("Mutations relative to clade founder")})]})})},[x,y,b]),A=(0,S.useMemo)(function(){return null!==(J=null==a?void 0:a.includeRelMuts)&& void 0!==J&&J},[null==a?void 0:a.includeRelMuts]),B=(0,S.useCallback)(function(){c(function(a){return a?bJ({},a,{includeRelMuts:!a.includeRelMuts}):void 0})},[c]),C=(0,S.useMemo)(function(){return(0,Q.jsx)(bs.Z,{inline:!0,check:!0,children:(0,Q.jsxs)(bt.Z,{check:!0,children:[(0,Q.jsx)(bu.Z,{type:"checkbox",checked:A,onChange:B}),(0,Q.jsx)(bZ,{title:b("Mutations relative to nodes of interest (if defined in the dataset tree)"),children:b("Mutations relative to nodes of interest (relative mutations)")})]})})},[B,A,b]),D=(0,S.useMemo)(function(){return null!==(K=null==a?void 0:a.includeDynamic)&& void 0!==K&&K},[null==a?void 0:a.includeDynamic]),E=(0,S.useCallback)(function(){c(function(a){return a?bJ({},a,{includeDynamic:!a.includeDynamic}):void 0})},[c]),F=(0,S.useMemo)(function(){return(0,Q.jsx)(bs.Z,{inline:!0,check:!0,children:(0,Q.jsxs)(bt.Z,{check:!0,children:[(0,Q.jsx)(bu.Z,{type:"checkbox",checked:D,onChange:E}),(0,Q.jsx)(bZ,{title:b("Various optional columns, such as custom clades and phenotypes might be available depending on dataset"),children:b("Dataset-specific columns")})]})})},[D,E,b]),G=(0,S.useCallback)(function(){k("files")},[k]);return(0,Q.jsxs)(bT,{children:[(0,Q.jsx)(bU,{children:(0,Q.jsx)("p",{children:b("Here you can select columns (individual or categories) which will be written into CSV and TSV files.")})}),(0,Q.jsx)(bV,{children:(0,Q.jsxs)(bv.Z,{children:[(0,Q.jsx)(bY,{header:w}),t,(0,Q.jsx)(bY,{header:z}),(0,Q.jsx)(bY,{header:C}),(0,Q.jsx)(bY,{header:F})]})}),(0,Q.jsxs)(bW,{children:[(0,Q.jsx)("div",{className:"mt-2 mr-auto",children:(0,Q.jsx)(bS,{type:"button",color:"danger",onClick:G,title:b("Return back to list of files"),children:b("Back to Files")})}),(0,Q.jsxs)("div",{className:"mt-2 ml-auto",children:[(0,Q.jsx)(bO,{color:"success",className:"mx-1",onClick:r,text:b("Download CSV"),isDone:l,isRunning:m}),(0,Q.jsx)(bO,{color:"primary",className:"mx-1",onClick:s,text:b("Download TSV"),isDone:o,isRunning:p})]})]})]})}function bO(a){var d=a.onClick,b=a.text,c=a.isRunning,e=a.isDone,f=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(a,["onClick","text","isRunning","isDone"]),g=(0,S.useMemo)(function(){return c?(0,Q.jsx)(bP,{}):e?(0,Q.jsx)(bR,{}):(0,Q.jsx)(bQ,{})},[e,c]);return(0,Q.jsx)(bS,bJ({type:"button",disabled:c,onClick:d,title:b},f,{children:(0,Q.jsxs)("span",{className:"d-flex w-100",children:[(0,Q.jsx)("span",{className:"my-auto",children:g}),(0,Q.jsx)("span",{className:"my-auto ml-1",children:b})]})}))}(d=h||(h={}))[d.Checked=0]="Checked",d[d.Unchecked=1]="Unchecked",d[d.Indeterminate=2]="Indeterminate";var bP=(0,b.ZP)(f.Z).withConfig({componentId:"sc-1b0f975d-0"})(x()),bQ=(0,b.ZP)(c.tEr).withConfig({componentId:"sc-1b0f975d-1"})(y()),bR=(0,b.ZP)(c.HhX).withConfig({componentId:"sc-1b0f975d-2"})(z()),bS=(0,b.ZP)(e.Z).withConfig({componentId:"sc-1b0f975d-3"})(A()),bT=b.ZP.div.withConfig({componentId:"sc-1b0f975d-4"})(B(),function(a){return a.theme.containerMaxWidths.md}),bU=b.ZP.div.withConfig({componentId:"sc-1b0f975d-5"})(C()),bV=b.ZP.div.withConfig({componentId:"sc-1b0f975d-6"})(D()),bW=b.ZP.div.withConfig({componentId:"sc-1b0f975d-7"})(E());function bX(b){var a=b.category,c=b.columns,d=(0,Y._)().t,e=(0,S.useCallback)(function(a){a.stopPropagation()},[]),f=(0,T.Zl)(aq._d),g=(0,S.useMemo)(function(){var b=Object.keys(c).length,a=Object.values(c).filter(Boolean).length;return 0===a?h.Unchecked:a===b?h.Checked:h.Indeterminate},[c]),i=(0,S.useCallback)(function(b){b===h.Checked?f(function(b){return b&&b1(b,a,!0)}):b===h.Unchecked&&f(function(b){return b&&b1(b,a,!1)})},[a,f]),j=(0,S.useMemo)(function(){var b,c=null!==(b=(0,W.get)({general:d("General"),"ref-muts":d("Mutations relative to reference sequence"),"priv-muts":d("Mutations relative to nearest node (private mutations)"),qc:d("Quality control"),primers:d("PCR primers"),"errs-warns":d("Errors & warnings")},a))&& void 0!==b?b:a;return(0,Q.jsx)(bs.Z,{inline:!0,check:!0,onClick:e,children:(0,Q.jsxs)(bt.Z,{check:!0,children:[(0,Q.jsx)(bG,{state:g,onChange:i}),(0,Q.jsx)("span",{children:c})]})})},[a,g,i,e,d]),k=(0,S.useMemo)(function(){return Object.keys(c).map(function(b){return(0,Q.jsx)(b$,{category:a,column:b},b)})},[a,c]);return(0,Q.jsx)(bY,{header:j,children:k})}var bY=(0,b.ZP)(function(a){var f=a.header,b=a.children,c=a.defaultCollapsed,g=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(a,["header","children","defaultCollapsed"]),d=(0,bA.O)(void 0===c||c),h=d.state,i=d.toggle,e=(0,S.useMemo)(function(){return!h&&!!b},[b,h]),j=(0,S.useMemo)(function(){return(0,Q.jsx)(bD,{color:b?"#999":"transparent",size:22,$rotated:e})},[b,e]);return(0,Q.jsxs)(bw.Z,function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){bB(d,a,c[a])})}return d}({},g,{children:[(0,Q.jsxs)(bx.Z,{onClick:i,children:[j,(0,Q.jsx)(bE,{children:f})]}),(0,Q.jsx)(by.Z,{isOpen:e,children:(0,Q.jsx)(bz.Z,{children:b})})]}))}).withConfig({componentId:"sc-1b0f975d-8"})(F(),function(a){return a.theme.gray500},function(a){return a.theme.gray200}),bZ=b.ZP.span.withConfig({componentId:"sc-1b0f975d-9"})(G(),function(a){return(0,br.m4)(a.theme.bodyColor,.5)});function b$(b){var c=b.category,a=b.column,d=bK((0,T.FV)(aq._d),2),e=d[0],f=d[1],g=(0,S.useMemo)(function(){return b_(e,c,a)},[c,a,e]),h=(0,S.useCallback)(function(){f(function(b){var d=b_(b,c,a);return b&&b0(b,c,a,!d)})},[c,a,f]);return(0,Q.jsx)(bs.Z,{check:!0,className:"ml-3",children:(0,Q.jsxs)(bt.Z,{check:!0,children:[(0,Q.jsx)(bu.Z,{type:"checkbox",checked:g,onChange:h}),(0,Q.jsx)("code",{children:a})]})})}function b_(b,d,e){if(!b)return!1;var a,c=(0,W.get)(b.categories,d);return!!c&&null!==(a=(0,W.get)(c,e))&& void 0!==a&&a}function b0(a,b,d,e){var c=(0,W.get)(a.categories,b);if(!c)return a;var f=bJ({},c,bI({},d,e));return bJ({},a,{categories:bJ({},a.categories,bI({},b,f))})}function b1(a,c,e){var b=(0,W.get)(a.categories,c);b=(0,W.mapValues)(b,function(a){return e});var d=bJ({},a.categories,bI({},c,b));return bJ({},a,{categories:d})}function b2(g,h){var a=bq()(g),i=Object.keys(null!==(l=null==a?void 0:a.categories)&& void 0!==l?l:{}),b=!0,d=!1,e=void 0;try{for(var l,f,c=i[Symbol.iterator]();!(b=(f=c.next()).done);b=!0){var j=f.value;a=b1(a,j,h)}}catch(k){d=!0,e=k}finally{try{b||null==c.return||c.return()}finally{if(d)throw e}}return a}var b3=a(62399),b4=a(13233);function b5(b,a){return a||(a=b.slice(0)),Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(a)}}))}function H(){var a=b5(["\n  width: 15px;\n  height: 15px;\n  margin: auto;\n"]);return H=function(){return a},a}function I(){var a=b5([""]);return I=function(){return a},a}function b6(){var c,d=(0,Y._)().t,a=aC((c=ax($().mark(function a(b,c,d){var e;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aR(c,d);case 2:al(e=a.sent,b,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet");case 4:case"end":return a.stop()}},a)})),function(a,b,d){return c.apply(this,arguments)})),b=a.isRunning,f=a.isDone,g=a.fn,h=(0,S.useCallback)(function(){return g(aB.filenameExcel)},[g]),i=(0,S.useMemo)(function(){return b?(0,Q.jsx)(b7,{}):f?(0,Q.jsx)(b8,{size:"15px",color:"#1d6f42"}):(0,Q.jsx)(b4.tQy,{fill:"#1d6f42"})},[f,b]);return(0,Q.jsxs)(e.Z,{color:"secondary",onClick:h,disabled:b,children:[(0,Q.jsx)("span",{className:"mr-1 my-auto",children:i}),(0,Q.jsx)("span",{children:d("Export all to Excel")})]})}var b7=(0,b.ZP)(f.Z).withConfig({componentId:"sc-68d1208-0"})(H()),b8=(0,b.ZP)(c.tdp).withConfig({componentId:"sc-68d1208-1"})(I());function b9(){var a=(0,Y._)().t;return(0,Q.jsxs)(bm.R,{children:[(0,Q.jsx)("p",{children:a("Export analysis results into an Excel workbook.")}),(0,Q.jsx)("p",{children:a("This is similar to the CSV/TSV outputs, but for all datasets at once - one dataset per sheet.")})]})}function ca(b,a){return a||(a=b.slice(0)),Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(a)}}))}function J(){var a=ca(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n"]);return J=function(){return a},a}function K(){var a=ca(["\n  flex: 0 0 260px;\n  height: 100%;\n  background-color: #f2f2f2;\n  padding: 20px;\n"]);return K=function(){return a},a}function L(){var a=ca(["\n  max-width: ",";\n  margin: auto;\n  padding: 0.8rem 0;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  height: 100%;\n  overflow: hidden;\n"]);return L=function(){return a},a}function M(){var a=ca(["\n  display: flex;\n  flex: 0;\n  padding-left: 10px;\n  margin-top: 10px;\n  margin-bottom: 3px;\n"]);return M=function(){return a},a}function N(){var a=ca(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  overflow: auto;\n"]);return N=function(){return a},a}function cb(){var a=(0,Y._)().t,b=(0,T.sJ)(X.M7),c=(0,T.sJ)(X.yW);return(0,Q.jsx)(b3.A,{children:(0,Q.jsxs)(cd,{children:[b&&(0,Q.jsxs)(ce,{children:[(0,Q.jsxs)("div",{className:"mt-2 pb-1",children:[(0,Q.jsx)("span",{className:"mr-1",children:a("All datasets")}),(0,Q.jsx)("span",{className:"mr-1",children:(0,Q.jsx)(b9,{})})]}),(0,Q.jsx)("div",{className:"pb-1",children:(0,Q.jsx)(b6,{})}),(0,Q.jsx)("div",{className:"mt-2 pb-1 pt-2 border-top"}),(0,Q.jsxs)("div",{className:"d-flex my-auto pb-1",children:[(0,Q.jsx)("span",{className:"mr-1",children:a("Individual datasets")}),(0,Q.jsx)("span",{className:"mr-1",children:(0,Q.jsx)(bk.R,{})}),(0,Q.jsx)("span",{className:"mr-1",children:(0,Q.jsx)(bn,{})})]}),(0,Q.jsx)("div",{className:"pb-1",children:(0,Q.jsx)(bo.v,{})})]}),(0,Q.jsx)(U.Z,{noGutters:!0,className:"d-flex w-100 h-100 overflow-hidden",children:(0,Q.jsx)(V.Z,{className:"mx-auto h-100 overflow-hidden",children:(0,Q.jsx)(cc,{},c)})})]})})}function cc(){var c,a=(0,Y._)().t,g=(0,T.sJ)(X.P8),h=(0,T.sJ)(X.yW),i=(0,T.sJ)(X.gQ),j=(0,R.useRouter)().asPath,e=(0,S.useState)(null!==(c=j.split("#")[1])&& void 0!==c?c:"files"),d=e[0],b=e[1];if(g)return(0,Q.jsxs)(cf,{children:[(0,Q.jsx)(cg,{children:(0,Q.jsx)("h4",{className:"mx-auto",children:a("Download output files for unclassified sequences")})}),(0,Q.jsx)(ch,{children:(0,Q.jsx)(bj,{})})]});var f=i.find(function(a){return a.path===h});if(!f)throw new aa.x("Dataset not found: '".concat(h,"'"));var k=(0,bl.xJ)(f,a).datasetName;return(0,Q.jsxs)(cf,{children:[(0,Q.jsx)(cg,{children:(0,Q.jsx)("h4",{className:"mx-auto",children:a('Download output files for "{{ dataset }}"',{dataset:k})})}),(0,Q.jsxs)(ch,{children:[(0,Q.jsxs)(bp.KT,{children:[(0,Q.jsx)(bp.Hu,{tabId:"files",activeTabId:d,setActiveTabId:b,children:a("Files")}),(0,Q.jsx)(bp.Hu,{tabId:"column-config",activeTabId:d,setActiveTabId:b,children:a("Column config")})]}),(0,Q.jsxs)(bp.I5,{activeTab:d,children:[(0,Q.jsx)(bp.Jm,{tabId:"files",children:(0,Q.jsx)(a9,{setActiveTabId:b})}),(0,Q.jsx)(bp.Jm,{tabId:"column-config",children:(0,Q.jsx)(bN,{setActiveTabId:b})})]})]})]})}var cd=b.ZP.div.withConfig({componentId:"sc-3ffb9323-0"})(J()),ce=b.ZP.aside.withConfig({componentId:"sc-3ffb9323-1"})(K()),cf=b.ZP.div.withConfig({componentId:"sc-3ffb9323-2"})(L(),function(a){return a.theme.containerMaxWidths.md}),cg=b.ZP.div.withConfig({componentId:"sc-3ffb9323-3"})(M()),ch=b.ZP.div.withConfig({componentId:"sc-3ffb9323-4"})(N())}},function(a){a.O(0,[233,445,200,189,939,793,774,888,179],function(){return a(a.s=72773)}),_N_E=a.O()}])
//# sourceMappingURL=export-0586c77a3d16d9ad.js.map