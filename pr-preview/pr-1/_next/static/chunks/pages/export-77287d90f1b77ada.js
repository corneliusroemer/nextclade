(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[914],{72773:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/export",function(){return c(9838)}])},4052:function(g,c,a){"use strict";a.d(c,{"$":function(){return u},Dt:function(){return q},FE:function(){return s},GT:function(){return w},St:function(){return y},jd:function(){return t},nl:function(){return x},yH:function(){return v},yZ:function(){return r}});var h=a(28354),i=a(60822),j=a(31382),b=a(37536),d=a(47939);function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function l(b,a){return a||(a=b.slice(0)),Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(a)}}))}function e(){var a=l(["\n  display: block;\n  width: ","px;\n  height: ",";\n  margin: 3px 15px;\n  filter: drop-shadow(",");\n"]);return e=function(){return a},a}function f(){var a=l(["\n  display: inline;\n  width: ","px;\n  height: ",";\n  max-width: 100%;\n  max-height: 100%;\n"]);return f=function(){return a},a}var m={fasta:"#66b51d",nwk:"#559184",csv:"#55aa55",tsv:"#7777cc",json:"#bb7e38",ndjson:"#bb5340",gff:"#6b29bb",tbl:"#105076",zip:"#91640f"},n=b.ZP.i.withConfig({componentId:"sc-41291e44-0"})(e(),function(a){return a.width},function(b){var a=b.height;return a&&"".concat(a,"px")},function(a){return a.theme.shadows.filter.medium}),o=(0,b.ZP)(d.a).withConfig({componentId:"sc-41291e44-1"})(f(),function(a){return a.width},function(b){var a=b.height;return a&&"".concat(a,"px")});function p(a){var r,c,f=a.size,b=void 0===f?50:f,g=a.extension,l=a.type,m=a.labelColor,p=a.glyphColor,e=(0,i.useMemo)(function(){return null!==(r=(0,j.get)(d.j,g))&& void 0!==r?r:d.j.txt},[g]),q=null!==(c=null!=l?l:null==e?void 0:e.type)&& void 0!==c?c:"txt";return(0,h.jsx)(n,{width:b,height:48*b/40,children:(0,h.jsx)(o,function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){k(d,a,c[a])})}return d}({},e,{width:b,height:48*b/40,extension:g,type:q,radius:3,color:"white",labelColor:m,glyphColor:p,labelUppercase:!0}))})}function q(a){var b=a.size;return(0,h.jsx)(p,{size:b,extension:"fasta",type:"code2",labelColor:m.fasta,glyphColor:m.fasta})}function r(a){var b=a.size;return(0,h.jsx)(p,{size:b,extension:"nwk",type:"document",labelColor:m.nwk,glyphColor:m.nwk})}function s(a){var b=a.size;return(0,h.jsx)(p,{size:b,extension:"json",labelColor:m.json,glyphColor:m.json})}function t(a){var b=a.size;return(0,h.jsx)(p,{size:b,extension:"ndjson",labelColor:m.ndjson,glyphColor:m.ndjson})}function u(a){var b=a.size;return(0,h.jsx)(p,{size:b,extension:"csv",labelColor:m.csv,glyphColor:m.csv})}function v(a){var b=a.size;return(0,h.jsx)(p,{size:b,extension:"tsv",type:"spreadsheet",labelColor:m.tsv,glyphColor:m.tsv})}function w(a){var b=a.size;return(0,h.jsx)(p,{size:b,extension:"gff",type:"spreadsheet",labelColor:m.gff,glyphColor:m.gff})}function x(a){var b=a.size;return(0,h.jsx)(p,{size:b,extension:"tbl",type:"spreadsheet",labelColor:m.tbl,glyphColor:m.tbl})}function y(a){var b=a.size;return(0,h.jsx)(p,{size:b,extension:"zip",labelColor:m.zip,glyphColor:m.zip})}},83887:function(o,c,a){"use strict";a.d(c,{Hu:function(){return w},I5:function(){return y},Jm:function(){return z},KT:function(){return v}});var p=a(28354),q=a(60822),d=a(94273),r=a.n(d),e=a(1890),f=a(36996),g=a(45679),h=a(55097),i=a(75740),b=a(37536),s=a(59263);function t(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function u(b,a){return a||(a=b.slice(0)),Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(a)}}))}function j(){var a=u(["\n  border-bottom: 0 !important;\n"]);return j=function(){return a},a}function k(){var a=u(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  overflow: hidden;\n  margin-top: -1px;\n"]);return k=function(){return a},a}function l(){var a=u(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  overflow: auto;\n  border: 1px #ccc9 solid;\n  border-bottom-left-radius: 5px;\n  border-bottom-right-radius: 5px;\n  border-top-right-radius: 5px;\n  padding: 1rem;\n"]);return l=function(){return a},a}function m(){var a=u(["\n  cursor: pointer;\n\n  border: #ccc 1px solid;\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n\n  background: #ddd;\n  min-width: 170px;\n\n  border-bottom: 0 !important;\n\n  margin-right: 0.25rem;\n  z-index: 2;\n\n  text-decoration: none !important;\n\n  .active {\n    font-weight: bold;\n    background-color: "," !important;\n  }\n\n  .nav-link,\n  .nav-link:focus {\n    box-shadow: none !important;\n\n    &:hover {\n      box-shadow: none !important;\n    }\n  }\n\n  .nav-link.active,\n  .nav-link.active:focus {\n    box-shadow: none !important;\n  }\n\n  .nav-link.disabled {\n    box-shadow: none !important;\n  }\n"]);return m=function(){return a},a}function n(){var a=u(["\n  color: ",";\n  text-align: center;\n"]);return n=function(){return a},a}function v(a){var b=a.children;return(0,p.jsx)(x,{tabs:!0,children:b})}function w(a){var b=a.tabId,e=a.activeTabId,f=a.setActiveTabId,g=a.children,c=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(a,["tabId","activeTabId","setActiveTabId","children"]),h=(0,q.useCallback)(function(){return f(b)},[f,b]),d=e===b,i=(0,q.useMemo)(function(){return c.href?{tag:s.r,replace:!0}:{}},[c.href]);return(0,p.jsx)(A,function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){t(d,a,c[a])})}return d}({className:r()({active:d})},c,i,{children:(0,p.jsx)(B,{tag:"nav",className:r()({active:d}),onClick:h,children:g})}))}var x=(0,b.ZP)(e.Z).withConfig({componentId:"sc-5e969eb3-0"})(j()),y=(0,b.ZP)(f.Z).withConfig({componentId:"sc-5e969eb3-1"})(k()),z=(0,b.ZP)(g.Z).withConfig({componentId:"sc-5e969eb3-2"})(l()),A=(0,b.ZP)(h.Z).withConfig({componentId:"sc-5e969eb3-3"})(m(),function(a){return a.theme.white}),B=(0,b.ZP)(i.Z).withConfig({componentId:"sc-5e969eb3-4"})(n(),function(a){return a.theme.bodyColor})},9838:function(J,f,a){"use strict";a.r(f),a.d(f,{"default":function(){return bI}});var c,K,g,L=a(28354),M=a(61577),N=a(60822),b=a(37536),O=a(83887),P=a(31382),d=a(10872),Q=a(16130),i=a(50291),R=a.n(i),S=a(26417),j=a(72607),T=a.n(j),U=a(86374),V=a(33887),W=a(53331),k=a(60363),X=a.n(k);function Y(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function Z(a,b,c){return(Z=!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}()?function(d,e,b){var a=[null];a.push.apply(a,e);var c=new(Function.bind.apply(d,a));return b&&_(c,b.prototype),c}:Reflect.construct).apply(null,arguments)}function $(a){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function _(a,b){return(_=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function l(a){var b="function"==typeof Map?new Map:void 0;return(l=function(a){var d;if(null===a||(d=a,-1===Function.toString.call(d).indexOf("[native code]")))return a;if("function"!=typeof a)throw new TypeError("Super expression must either be null or a function");if(void 0!==b){if(b.has(a))return b.get(a);b.set(a,c)}function c(){return Z(a,arguments,$(this).constructor)}return c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),_(c,a)})(a)}function aa(a,b,c){var d=new Blob([a],{type:c});(0,W.saveAs)(d,b)}function ab(a,b){(0,W.saveAs)(a,b)}function ac(a){return ad.apply(this,arguments)}function ad(){var a;return(ad=(a=T().mark(function a(b){var c,d,e,f;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=b.filename,d=b.files,e=new(X()),d.forEach(function(a){var b=a.filename,c=a.data;return e.file(b,c)}),a.next=5,e.generateAsync({type:"blob"});case 5:ab(f=a.sent,c);case 7:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){Y(g,e,f,d,h,"next",a)}function h(a){Y(g,e,f,d,h,"throw",a)}d(void 0)})})).apply(this,arguments)}l(Error);var ae=a(57635),af=a(71355),ag=a(27751);function ah(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function ai(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){ah(g,e,f,d,h,"next",a)}function h(a){ah(g,e,f,d,h,"throw",a)}d(void 0)})}}var aj=function(){"use strict";function c(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,c)}var b=c.prototype;return b.init=function(){var b=this;return ai(T().mark(function c(){return T().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,ag.C)(new Worker(new URL(a.p+a.u(268),a.b)));case 2:b.thread=c.sent;case 3:case"end":return c.stop()}},c)}))()},b.serializeResultsJson=function(a,b,c,d,e,f){var g=this;return ai(T().mark(function h(){return T().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",g.thread.serializeResultsJson(a,b,c,d,e,f));case 1:case"end":return h.stop()}},h)}))()},b.serializeResultsCsv=function(a,b,c,d,e,f,g,h){var i=this;return ai(T().mark(function j(){return T().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",i.thread.serializeResultsCsv(a,b,c,d,e,f,g,h));case 1:case"end":return j.stop()}},j)}))()},b.serializeResultsNdjson=function(a,b){var c=this;return ai(T().mark(function d(){return T().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",c.thread.serializeResultsNdjson(a,b));case 1:case"end":return d.stop()}},d)}))()},b.serializeResultsGff=function(a){var b=this;return ai(T().mark(function c(){return T().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",b.thread.serializeResultsGff(a));case 1:case"end":return c.stop()}},c)}))()},b.serializeResultsTbl=function(a){var b=this;return ai(T().mark(function c(){return T().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",b.thread.serializeResultsTbl(a));case 1:case"end":return c.stop()}},c)}))()},b.destroy=function(){var a=this;return ai(T().mark(function b(){return T().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,a.thread.destroy();case 2:case"end":return b.stop()}},b)}))()},c.get=function(){var a=this;return ai(T().mark(function b(){return T().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(a.self){b.next=4;break}return a.self=new c,b.next=4,a.self.init();case 4:return b.abrupt("return",a.self);case 5:case"end":return b.stop()}},b)}))()},c.destroy=function(){var a=this;return ai(T().mark(function b(){var c;return T().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=3,null===(c=a.self)|| void 0===c?void 0:c.destroy();case 3:a.self=void 0;case 4:case"end":return b.stop()}},b)}))()},c}();function ak(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function al(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function am(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){al(g,e,f,d,h,"next",a)}function h(a){al(g,e,f,d,h,"throw",a)}d(void 0)})}}function an(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,b)||ap(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ao(a){return function(a){if(Array.isArray(a))return ak(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||ap(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ap(a,c){if(a){if("string"==typeof a)return ak(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return ak(a,c)}}var aq={filenameZip:"nextclade.zip",filenameCsv:"nextclade.csv",filenameTsv:"nextclade.tsv",filenameJson:"nextclade.json",filenameNdjson:"nextclade.ndjson",filenameTree:"nextclade.auspice.json",filenameTreeNwk:"nextclade.nwk",filenameFasta:"nextclade.aligned.fasta",filenamePeptidesZip:"nextclade.peptides.fasta.zip",filenamePeptidesTemplate:"nextclade.cds_translation.{{cds}}.fasta",filenameGff:"nextclade.gff",filenameTbl:"nextclade.tbl"};function ar(c){var a=(0,N.useState)(!1),d=a[0],e=a[1],b=(0,N.useState)(!1),f=b[0],h=b[1],g=(0,Q._8)(function(a){var d=a.set,b=a.snapshot,f=b.retain();return function(g){var a;e(!0),aj.get().then((a=am(T().mark(function a(d){var e;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c(g,b,d);case 2:return e=a.sent,h(!0),a.abrupt("return",e);case 5:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)})).catch(function(a){d(ae.YY,a)}).finally(function(){f(),e(!1)})}},[c,e]);return{isRunning:d,isDone:f,fn:g}}function as(a,b){return at.apply(this,arguments)}function at(){return(at=am(T().mark(function a(b,c){var d;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.getPromise(af.H$);case 2:return d=a.sent,a.abrupt("return",d.filter(function(a){return(0,V.$)(a.result)}).map(function(a){if(!a.result)throw new U.x("When preparing analysis results for export: expected result to be non-nil");return c(a.result)}));case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}function au(a,b){return av.apply(this,arguments)}function av(){return(av=am(T().mark(function a(b,c){var d;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.getPromise(af.H$);case 2:return d=a.sent,a.abrupt("return",d.filter(function(a){return(0,V.$)(a.error)}).map(function(a){var b=a.error,d=a.seqName,e=a.index;if(!b)throw new U.x("When preparing analysis errors for export: expected error to be non-nil");return c({index:e,seqName:d,errors:[b]})}));case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aw(a){return ax.apply(this,arguments)}function ax(){return(ax=am(T().mark(function a(b){var c;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,as(b,function(a){return">".concat(a.analysisResult.seqName,"\n").concat(a.query)});case 2:return c=a.sent.join("\n"),c+="\n",a.abrupt("return",c);case 5:case"end":return a.stop()}},a)}))).apply(this,arguments)}function ay(a,b,c){return az.apply(this,arguments)}function az(){return(az=am(T().mark(function a(b,c,d){var e,f,g,h,i,j,k;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,as(b,function(a){return a.analysisResult});case 2:return e=a.sent,a.next=5,au(b,function(a){return a});case 5:return f=a.sent,a.next=8,b.getPromise(af.Ei);case 8:return g=a.sent,a.next=11,b.getPromise(af.En);case 11:return h=a.sent,a.next=14,b.getPromise(af.we);case 14:return i=a.sent,a.next=17,b.getPromise(af.$r);case 17:return j=a.sent,a.next=20,b.getPromise(af._d);case 20:if(k=a.sent){a.next=23;break}throw new U.x("CSV column config is not initialized, but it should be");case 23:return a.abrupt("return",c.serializeResultsCsv(e,f,g,h,i,j,d,k));case 24:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aA(){var a;return ar((a=am(T().mark(function a(b,c,d){var e;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ay(c,d,";");case 2:aa(e=a.sent,b,"text/csv;charset=utf-8");case 4:case"end":return a.stop()}},a)})),function(b,c,d){return a.apply(this,arguments)}))}function aB(){var a;return ar((a=am(T().mark(function a(b,c,d){var e;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ay(c,d,"	");case 2:aa(e=a.sent,b,"text/tab-separated-values;charset=utf-8");case 4:case"end":return a.stop()}},a)})),function(b,c,d){return a.apply(this,arguments)}))}function aC(a,b){return aD.apply(this,arguments)}function aD(){return(aD=am(T().mark(function a(b,c){var d,e,f,g,h;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,as(b,function(a){return a.analysisResult});case 2:return d=a.sent,a.next=5,au(b,function(a){return a});case 5:return e=a.sent,a.next=8,b.getPromise(af.Ei);case 8:return f=a.sent,a.next=11,b.getPromise(af.En);case 11:return g=a.sent,a.next=14,b.getPromise(af.we);case 14:return h=a.sent,a.abrupt("return",c.serializeResultsJson(d,e,f,g,h,"3.13.2"));case 16:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aE(a,b){return aF.apply(this,arguments)}function aF(){return(aF=am(T().mark(function a(b,c){var d,e;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,as(b,function(a){return a.analysisResult});case 2:return d=a.sent,a.next=5,au(b,function(a){return a});case 5:return e=a.sent,a.abrupt("return",c.serializeResultsNdjson(d,e));case 7:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aG(a){return aH.apply(this,arguments)}function aH(){return(aH=am(T().mark(function a(b){var c;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.getPromise(af.U5);case 2:if(c=a.sent){a.next=5;break}return a.abrupt("return",void 0);case 5:return a.abrupt("return",JSON.stringify(c,null,2));case 6:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aI(a){return aJ.apply(this,arguments)}function aJ(){return(aJ=am(T().mark(function a(b){var c;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.getPromise(af.bl);case 2:if(c=a.sent){a.next=5;break}return a.abrupt("return",void 0);case 5:return a.abrupt("return",c);case 6:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aK(a){return aL.apply(this,arguments)}function aL(){return(aL=am(T().mark(function a(b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,as(b,function(a){var b=a.translation,c=a.analysisResult.seqName;return{seqName:c,translation:b}});case 2:c=a.sent,d=new Map,e=!0,f=!1,g=void 0,a.prev=5,h=c[Symbol.iterator]();case 7:if(e=(i=h.next()).done){a.next=51;break}k=(j=i.value).seqName,l=j.translation,m=!0,n=!1,o=void 0,a.prev=10,p=Object.entries(l.genes)[Symbol.iterator]();case 12:if(m=(q=p.next()).done){a.next=34;break}for(s=(r=an(q.value,2))[0],t=r[1].cdses,u=!0,v=!1,w=void 0,a.prev=15,x=Object.entries(t)[Symbol.iterator]();!(u=(y=x.next()).done);u=!0)A=(z=an(y.value,2))[0],B=z[1],C=B.name,D=B.seq,E=d.get(C),F=">".concat(k,"\n").concat(D,"\n"),E?E.data="".concat(E.data).concat(F):(G=(G=aq.filenamePeptidesTemplate).replace("{{cds}}",C),d.set(C,{filename:G,data:F}));a.next=23;break;case 19:a.prev=19,a.t0=a.catch(15),v=!0,w=a.t0;case 23:a.prev=23,a.prev=24,u||null==x.return||x.return();case 26:if(a.prev=26,!v){a.next=29;break}throw w;case 29:return a.finish(26);case 30:return a.finish(23);case 31:m=!0,a.next=12;break;case 34:a.next=40;break;case 36:a.prev=36,a.t1=a.catch(10),n=!0,o=a.t1;case 40:a.prev=40,a.prev=41,m||null==p.return||p.return();case 43:if(a.prev=43,!n){a.next=46;break}throw o;case 46:return a.finish(43);case 47:return a.finish(40);case 48:e=!0,a.next=7;break;case 51:a.next=57;break;case 53:a.prev=53,a.t2=a.catch(5),f=!0,g=a.t2;case 57:a.prev=57,a.prev=58,e||null==h.return||h.return();case 60:if(a.prev=60,!f){a.next=63;break}throw g;case 63:return a.finish(60);case 64:return a.finish(57);case 65:return a.abrupt("return",Array.from(d.values()));case 66:case"end":return a.stop()}},a,null,[[5,53,57,65],[10,36,40,48],[15,19,23,31],[24,,26,30],[41,,43,47],[58,,60,64]])}))).apply(this,arguments)}function aM(a,b){return aN.apply(this,arguments)}function aN(){return(aN=am(T().mark(function a(b,c){var d;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,as(b,function(a){return a.analysisResult});case 2:return d=a.sent,a.abrupt("return",c.serializeResultsGff(d));case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aO(a,b){return aP.apply(this,arguments)}function aP(){return(aP=am(T().mark(function a(b,c){var d;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,as(b,function(a){return a.analysisResult});case 2:return d=a.sent,a.abrupt("return",c.serializeResultsTbl(d));case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}var aQ=a(16082),aR=a(15605),aS=a(39921),aT=a(67693),h=a(32373),e=a(21602),aU=a(87181),aV=a(11215),aW=a(65322),aX=a(34674),aY=a(14191),aZ=a(83144);function a$(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function a_(b,a){return a||(a=b.slice(0)),Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(a)}}))}function m(){var a=a_(["\n  display: inline;\n  transition: transform linear 0.25s;\n  transform: ",";\n"]);return m=function(){return a},a}function n(){var a=a_(["\n  vertical-align: middle;\n"]);return n=function(){return a},a}var a0=(0,b.ZP)(d.gwH).withConfig({componentId:"sc-70fca362-0"})(m(),function(a){return!a.$rotated&&"rotate(-90deg)"}),a1=b.ZP.span.withConfig({componentId:"sc-70fca362-1"})(n());function a2(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function a3(a){var b=a.state,c=a.onChange,d=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(a,["state","onChange"]),e=(0,N.useRef)(null),f=(0,N.useCallback)(function(){return b===g.Checked?null==c?void 0:c(g.Unchecked):null==c?void 0:c(g.Checked)},[c,b]);(0,N.useEffect)(function(){(null==e?void 0:e.current)&&(e.current.indeterminate=b===g.Indeterminate)},[b]);var h=(0,N.useMemo)(function(){return b===g.Checked},[b]);return(0,L.jsx)(aS.Z,function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){a2(d,a,c[a])})}return d}({},d,{type:"checkbox",innerRef:e,checked:h,onChange:f}))}function a4(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function a5(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function a6(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){a5(d,a,c[a])})}return d}function a7(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,b)||a9(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a8(b,a){return a||(a=b.slice(0)),Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(a)}}))}function a9(a,c){if(a){if("string"==typeof a)return a4(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return a4(a,c)}}function o(){var a=a8(["\n  width: 24px !important;\n  height: 24px !important;\n"]);return o=function(){return a},a}function p(){var a=a8(["\n  width: 25px;\n  height: 25px;\n  margin-left: -1px;\n  display: inline;\n"]);return p=function(){return a},a}function q(){var a=a8(["\n  width: 25px;\n  height: 25px;\n  margin-left: -1px;\n  display: inline;\n  color: #aaff99;\n"]);return q=function(){return a},a}function r(){var a=a8(["\n  width: 160px;\n  height: 40px;\n\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return r=function(){return a},a}function s(){var a=a8(["\n  max-width: ",";\n  margin: 0 auto;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  height: 100%;\n  overflow: hidden;\n"]);return s=function(){return a},a}function t(){var a=a8(["\n  display: flex;\n  flex: 0;\n  padding-left: 10px;\n  margin-top: 10px;\n  margin-bottom: 3px;\n"]);return t=function(){return a},a}function u(){var a=a8(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  overflow: auto;\n"]);return u=function(){return a},a}function v(){var a=a8(["\n  display: flex;\n  flex: 0;\n"]);return v=function(){return a},a}function w(){var a=a8(["\n  box-shadow: none;\n  border: "," solid 1px;\n  border-radius: 0;\n\n  :first-child {\n    border-top-left-radius: 3px;\n    border-top-right-radius: 3px;\n  }\n\n  :last-child {\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n  }\n\n  :not(:last-child) {\n    border-bottom: none;\n  }\n\n  & .card-header {\n    padding: 0.5rem;\n    background-color: ",";\n  }\n\n  & .card-body {\n    padding: 0.5rem;\n    padding-left: 1.5rem;\n  }\n"]);return w=function(){return a},a}function x(){var a=a8(["\n  border-bottom: 1px dashed ",";\n  text-decoration: none;\n  cursor: help;\n"]);return x=function(){return a},a}function ba(i){var G,H,I,J,j=i.setActiveTabId,b=(0,aU._)().t,f=a7((0,Q.FV)(af._d),2),a=f[0],c=f[1],h=(0,N.useMemo)(function(){return aq},[]),d=aA(),k=d.isDone,l=d.isRunning,m=d.fn,e=aB(),n=e.isDone,o=e.isRunning,p=e.fn,q=(0,N.useCallback)(function(){return m(h.filenameCsv)},[m,h.filenameCsv]),r=(0,N.useCallback)(function(){return p(h.filenameTsv)},[h.filenameTsv,p]),s=(0,N.useMemo)(function(){return Object.entries(null!==(G=null==a?void 0:a.categories)&& void 0!==G?G:{}).map(function(c){var a=a7(c,2),b=a[0],d=a[1];return(0,L.jsx)(bk,{category:b,columns:d},b)})},[a]),t=(0,N.useMemo)(function(){var b,c=Object.values(null!==(b=null==a?void 0:a.categories)&& void 0!==b?b:{}).flatMap(function(a){return Object.values(a)}),e=c.length,d=c.filter(Boolean).length;return 0!==d||(null==a?void 0:a.includeDynamic)?d===e&&(null==a?void 0:a.includeDynamic)?g.Checked:g.Indeterminate:g.Unchecked},[null==a?void 0:a.categories,null==a?void 0:a.includeDynamic]),u=(0,N.useCallback)(function(a){c(function(b){if(!b)return b;if(a===g.Checked){var d=br(b,!0);return d.includeDynamic=!0,d.includeCladeFounderMuts=!0,d.includeRelMuts=!0,d}if(a===g.Unchecked){var c=br(b,!1);return c.individual=[],c.includeDynamic=!1,c.includeCladeFounderMuts=!1,c.includeRelMuts=!1,c}return b})},[c]),v=(0,N.useMemo)(function(){return(0,L.jsx)(aQ.Z,{inline:!0,check:!0,children:(0,L.jsxs)(aR.Z,{check:!0,children:[(0,L.jsx)(a3,{type:"checkbox",state:t,onChange:u}),b("All categories")]})})},[t,u,b]),w=(0,N.useMemo)(function(){return null!==(H=null==a?void 0:a.includeCladeFounderMuts)&& void 0!==H&&H},[null==a?void 0:a.includeCladeFounderMuts]),x=(0,N.useCallback)(function(){c(function(a){return a?a6({},a,{includeCladeFounderMuts:!a.includeCladeFounderMuts}):void 0})},[c]),y=(0,N.useMemo)(function(){return(0,L.jsx)(aQ.Z,{inline:!0,check:!0,children:(0,L.jsxs)(aR.Z,{check:!0,children:[(0,L.jsx)(aS.Z,{type:"checkbox",checked:w,onChange:x}),(0,L.jsx)(bm,{title:b("Mutations relative to the founder of the corresponding clade"),children:b("Mutations relative to clade founder")})]})})},[w,x,b]),z=(0,N.useMemo)(function(){return null!==(I=null==a?void 0:a.includeRelMuts)&& void 0!==I&&I},[null==a?void 0:a.includeRelMuts]),A=(0,N.useCallback)(function(){c(function(a){return a?a6({},a,{includeRelMuts:!a.includeRelMuts}):void 0})},[c]),B=(0,N.useMemo)(function(){return(0,L.jsx)(aQ.Z,{inline:!0,check:!0,children:(0,L.jsxs)(aR.Z,{check:!0,children:[(0,L.jsx)(aS.Z,{type:"checkbox",checked:z,onChange:A}),(0,L.jsx)(bm,{title:b("Mutations relative to nodes of interest (if defined in the dataset tree)"),children:b("Mutations relative to nodes of interest (relative mutations)")})]})})},[A,z,b]),C=(0,N.useMemo)(function(){return null!==(J=null==a?void 0:a.includeDynamic)&& void 0!==J&&J},[null==a?void 0:a.includeDynamic]),D=(0,N.useCallback)(function(){c(function(a){return a?a6({},a,{includeDynamic:!a.includeDynamic}):void 0})},[c]),E=(0,N.useMemo)(function(){return(0,L.jsx)(aQ.Z,{inline:!0,check:!0,children:(0,L.jsxs)(aR.Z,{check:!0,children:[(0,L.jsx)(aS.Z,{type:"checkbox",checked:C,onChange:D}),(0,L.jsx)(bm,{title:b("Various optional columns, such as custom clades and phenotypes might be available depending on dataset"),children:b("Dataset-specific columns")})]})})},[C,D,b]),F=(0,N.useCallback)(function(){j("files")},[j]);return(0,L.jsxs)(bg,{children:[(0,L.jsx)(bh,{children:(0,L.jsx)("p",{children:b("Here you can select columns (individual or categories) which will be written into CSV and TSV files.")})}),(0,L.jsx)(bi,{children:(0,L.jsxs)(aT.Z,{children:[(0,L.jsx)(bl,{header:v}),s,(0,L.jsx)(bl,{header:y}),(0,L.jsx)(bl,{header:B}),(0,L.jsx)(bl,{header:E})]})}),(0,L.jsxs)(bj,{children:[(0,L.jsx)("div",{className:"mt-2 mr-auto",children:(0,L.jsx)(bf,{type:"button",color:"danger",onClick:F,title:b("Return back to list of files"),children:b("Back to Files")})}),(0,L.jsxs)("div",{className:"mt-2 ml-auto",children:[(0,L.jsx)(bb,{color:"success",className:"mx-1",onClick:q,text:b("Download CSV"),isDone:k,isRunning:l}),(0,L.jsx)(bb,{color:"primary",className:"mx-1",onClick:r,text:b("Download TSV"),isDone:n,isRunning:o})]})]})]})}function bb(a){var d=a.onClick,b=a.text,c=a.isRunning,e=a.isDone,f=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(a,["onClick","text","isRunning","isDone"]),g=(0,N.useMemo)(function(){return c?(0,L.jsx)(bc,{}):e?(0,L.jsx)(be,{}):(0,L.jsx)(bd,{})},[e,c]);return(0,L.jsx)(bf,a6({type:"button",disabled:c,onClick:d,title:b},f,{children:(0,L.jsxs)("span",{className:"d-flex w-100",children:[(0,L.jsx)("span",{className:"my-auto",children:g}),(0,L.jsx)("span",{className:"my-auto ml-1",children:b})]})}))}(c=g||(g={}))[c.Checked=0]="Checked",c[c.Unchecked=1]="Unchecked",c[c.Indeterminate=2]="Indeterminate";var bc=(0,b.ZP)(h.Z).withConfig({componentId:"sc-76a97a05-0"})(o()),bd=(0,b.ZP)(d.tEr).withConfig({componentId:"sc-76a97a05-1"})(p()),be=(0,b.ZP)(d.HhX).withConfig({componentId:"sc-76a97a05-2"})(q()),bf=(0,b.ZP)(e.Z).withConfig({componentId:"sc-76a97a05-3"})(r()),bg=b.ZP.div.withConfig({componentId:"sc-76a97a05-4"})(s(),function(a){return a.theme.containerMaxWidths.md}),bh=b.ZP.div.withConfig({componentId:"sc-76a97a05-5"})(t()),bi=b.ZP.div.withConfig({componentId:"sc-76a97a05-6"})(u()),bj=b.ZP.div.withConfig({componentId:"sc-76a97a05-7"})(v());function bk(b){var a=b.category,c=b.columns,d=(0,aU._)().t,e=(0,N.useCallback)(function(a){a.stopPropagation()},[]),f=(0,Q.Zl)(af._d),h=(0,N.useMemo)(function(){var b=Object.keys(c).length,a=Object.values(c).filter(Boolean).length;return 0===a?g.Unchecked:a===b?g.Checked:g.Indeterminate},[c]),i=(0,N.useCallback)(function(b){b===g.Checked?f(function(b){return b&&bq(b,a,!0)}):b===g.Unchecked&&f(function(b){return b&&bq(b,a,!1)})},[a,f]),j=(0,N.useMemo)(function(){var b,c=null!==(b=(0,P.get)({general:d("General"),"ref-muts":d("Mutations relative to reference sequence"),"priv-muts":d("Mutations relative to nearest node (private mutations)"),qc:d("Quality control"),primers:d("PCR primers"),"errs-warns":d("Errors & warnings")},a))&& void 0!==b?b:a;return(0,L.jsx)(aQ.Z,{inline:!0,check:!0,onClick:e,children:(0,L.jsxs)(aR.Z,{check:!0,children:[(0,L.jsx)(a3,{state:h,onChange:i}),(0,L.jsx)("span",{children:c})]})})},[a,h,i,e,d]),k=(0,N.useMemo)(function(){return Object.keys(c).map(function(b){return(0,L.jsx)(bn,{category:a,column:b},b)})},[a,c]);return(0,L.jsx)(bl,{header:j,children:k})}var bl=(0,b.ZP)(function(a){var f=a.header,b=a.children,c=a.defaultCollapsed,g=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(a,["header","children","defaultCollapsed"]),d=(0,aZ.O)(void 0===c||c),h=d.state,i=d.toggle,e=(0,N.useMemo)(function(){return!h&&!!b},[b,h]),j=(0,N.useMemo)(function(){return(0,L.jsx)(a0,{color:b?"#999":"transparent",size:22,$rotated:e})},[b,e]);return(0,L.jsxs)(aV.Z,function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){a$(d,a,c[a])})}return d}({},g,{children:[(0,L.jsxs)(aW.Z,{onClick:i,children:[j,(0,L.jsx)(a1,{children:f})]}),(0,L.jsx)(aX.Z,{isOpen:e,children:(0,L.jsx)(aY.Z,{children:b})})]}))}).withConfig({componentId:"sc-76a97a05-8"})(w(),function(a){return a.theme.gray500},function(a){return a.theme.gray200}),bm=b.ZP.span.withConfig({componentId:"sc-76a97a05-9"})(x(),function(a){return(0,S.m4)(a.theme.bodyColor,.5)});function bn(b){var c=b.category,a=b.column,d=a7((0,Q.FV)(af._d),2),e=d[0],f=d[1],g=(0,N.useMemo)(function(){return bo(e,c,a)},[c,a,e]),h=(0,N.useCallback)(function(){f(function(b){var d=bo(b,c,a);return b&&bp(b,c,a,!d)})},[c,a,f]);return(0,L.jsx)(aQ.Z,{check:!0,className:"ml-3",children:(0,L.jsxs)(aR.Z,{check:!0,children:[(0,L.jsx)(aS.Z,{type:"checkbox",checked:g,onChange:h}),(0,L.jsx)("code",{children:a})]})})}function bo(b,d,e){if(!b)return!1;var a,c=(0,P.get)(b.categories,d);return!!c&&null!==(a=(0,P.get)(c,e))&& void 0!==a&&a}function bp(a,b,d,e){var c=(0,P.get)(a.categories,b);if(!c)return a;var f=a6({},c,a5({},d,e));return a6({},a,{categories:a6({},a.categories,a5({},b,f))})}function bq(a,c,e){var b=(0,P.get)(a.categories,c);b=(0,P.mapValues)(b,function(a){return e});var d=a6({},a.categories,a5({},c,b));return a6({},a,{categories:d})}function br(g,h){var a=R()(g),i=Object.keys(null!==(l=null==a?void 0:a.categories)&& void 0!==l?l:{}),b=!0,d=!1,e=void 0;try{for(var l,f,c=i[Symbol.iterator]();!(b=(f=c.next()).done);b=!0){var j=f.value;a=bq(a,j,h)}}catch(k){d=!0,e=k}finally{try{b||null==c.return||c.return()}finally{if(d)throw e}}return a}var bs=a(19343),bt=a(70146),y=a(54043),bu=a(4052),bv=a(28072);function bw(b,a){return a||(a=b.slice(0)),Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(a)}}))}function z(){var a=bw(["\n  width: 70px;\n  height: 50px;\n"]);return z=function(){return a},a}function A(){var a=bw(["\n  height: 2rem;\n  padding: 0;\n"]);return A=function(){return a},a}function B(){var a=bw(["\n  width: 25px;\n  height: 25px;\n  margin: auto;\n"]);return B=function(){return a},a}function C(){var a=bw(["\n  width: 25px;\n  height: 25px;\n  margin-left: -1px;\n  display: inline;\n"]);return C=function(){return a},a}function D(){var a=bw(["\n  width: 25px;\n  height: 25px;\n  margin-left: -1px;\n  display: inline;\n  color: #aaff99;\n"]);return D=function(){return a},a}function E(){var a=bw(["\n  flex: 1;\n  overflow: auto;\n"]);return E=function(){return a},a}function F(){var a=bw(["\n  margin: 10px 7px;\n  display: flex;\n  padding: 0.5rem 1rem;\n  box-shadow: 0 0 12px 0 #0004;\n  border: 1px #ccc9 solid;\n  border-radius: 5px;\n"]);return F=function(){return a},a}function bx(o){var p,q,r,s,t,u,v=o.setActiveTabId,a=(0,aU._)().t,w=(0,N.useCallback)(function(){v("column-config")},[v]),n=(0,N.useMemo)(function(){return(0,L.jsx)(bs.Z,{noGutters:!0,children:(0,L.jsx)(bt.Z,{children:(0,L.jsx)(bA,{color:"link",onClick:w,children:a("Configure columns")})})})},[w,a]),f=ar((p=am(T().mark(function a(b,c,d){var e,f,g,h,i,j,k,l,m,n,o;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ay(c,d,";");case 2:return e=a.sent,a.next=5,ay(c,d,"	");case 5:return f=a.sent,a.next=8,aC(c,d);case 8:return g=a.sent,a.next=11,aE(c,d);case 11:return h=a.sent,a.next=14,aG(c);case 14:return i=a.sent,a.next=17,aI(c);case 17:return j=a.sent,a.next=20,aw(c);case 20:return k=a.sent,a.next=23,aK(c);case 23:return l=a.sent,a.next=26,aM(c,d);case 26:return m=a.sent,a.next=29,aO(c,d);case 29:return n=a.sent,o=ao(l).concat([{filename:aq.filenameCsv,data:e},{filename:aq.filenameTsv,data:f},{filename:aq.filenameJson,data:g},{filename:aq.filenameNdjson,data:h},{filename:aq.filenameFasta,data:k},]),i&&o.push({filename:aq.filenameTree,data:i}),j&&o.push({filename:aq.filenameTreeNwk,data:j}),m&&o.push({filename:aq.filenameGff,data:m}),n&&o.push({filename:aq.filenameTbl,data:n}),a.next=37,ac({filename:b,files:o});case 37:case"end":return a.stop()}},a)})),function(a,b,c){return p.apply(this,arguments)})),x=f.isRunning,y=f.isDone,z=f.fn,g=ar((q=am(T().mark(function a(b,c){var d;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aw(c);case 2:aa(d=a.sent,b,"application/x-fasta;charset=utf-8");case 4:case"end":return a.stop()}},a)})),function(a,b){return q.apply(this,arguments)})),A=g.isRunning,B=g.isDone,C=g.fn,h=aA(),D=h.isRunning,E=h.isDone,F=h.fn,i=aB(),G=i.isRunning,H=i.isDone,I=i.fn,j=ar((r=am(T().mark(function a(b,c,d){var e;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aC(c,d);case 2:aa(e=a.sent,b,"application/json;charset=utf-8");case 4:case"end":return a.stop()}},a)})),function(a,b,c){return r.apply(this,arguments)})),J=j.isRunning,K=j.isDone,M=j.fn,k=ar((s=am(T().mark(function a(b,c,d){var e;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aE(c,d);case 2:aa(e=a.sent,b,"application/x-ndjson;charset=utf-8");case 4:case"end":return a.stop()}},a)})),function(a,b,c){return s.apply(this,arguments)})),O=k.isRunning,R=k.isDone,S=k.fn,c=function(){var a,b=(0,Q.sJ)(af.P9),c=ar((a=am(T().mark(function a(b,c){var d;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aK(c);case 2:return d=a.sent,a.next=5,ac({files:d,filename:b});case 5:case"end":return a.stop()}},a)})),function(b,c){return a.apply(this,arguments)}));if(!(0,P.isEmpty)(b))return c}(),l=ar((t=am(T().mark(function a(b,c,d){var e;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aM(c,d);case 2:aa(e=a.sent,b,"text/x-gff3;charset=utf-8");case 4:case"end":return a.stop()}},a)})),function(a,b,c){return t.apply(this,arguments)})),m=ar((u=am(T().mark(function a(b,c,d){var e;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aO(c,d);case 2:aa(e=a.sent,b,"text/x-tbl;charset=utf-8");case 4:case"end":return a.stop()}},a)})),function(a,b,c){return u.apply(this,arguments)})),d=function(){var a,b=(0,Q.sJ)(af.U5),c=ar((a=am(T().mark(function a(b,c){var d;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aG(c);case 2:if(d=a.sent,!(0,P.isNil)(d)){a.next=5;break}return a.abrupt("return");case 5:aa(d,b,"application/json;charset=utf-8");case 6:case"end":return a.stop()}},a)})),function(b,c){return a.apply(this,arguments)}));if(!(0,P.isNil)(b))return c}(),e=function(){var a,b=(0,Q.sJ)(af.bl),c=ar((a=am(T().mark(function a(b,c,d){var e;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aI(c);case 2:if(e=a.sent,!(0,P.isNil)(e)){a.next=5;break}return a.abrupt("return");case 5:aa(e,b,"text/x-nh;charset=utf-8");case 6:case"end":return a.stop()}},a)})),function(b,c,d){return a.apply(this,arguments)}));if(!(0,P.isNil)(b))return c}(),b=(0,N.useMemo)(function(){return aq},[]);return(0,L.jsxs)(bE,{children:[(0,L.jsx)(by,{Icon:bu.FE,filename:b.filenameJson,HelpMain:a("Results of the analysis in {{formatName}} format.",{formatName:"JSON"}),HelpDetails:a("Contains detailed results of the analysis, such as clades, mutations, QC metrics etc., in {{formatName}} format. Convenient for further automated processing. Note that this format is unstable and can change without notice.",{formatName:"JSON"}),HelpDownload:a("Download results of the analysis in {{formatName}} format.",{formatName:"JSON"}),onDownload:M,isRunning:J,isDone:K}),(0,L.jsx)(by,{Icon:bu.jd,filename:b.filenameNdjson,HelpMain:a("Results of the analysis in {{formatName}} format.",{formatName:"NDJSON"}),HelpDetails:a("Contains detailed results of the analysis, such as clades, mutations, QC metrics etc., in {{formatName}} format (newline-delimited JSON). Convenient for further automated processing. Note that this format is unstable and can change without notice.",{formatName:"NDJSON"}),HelpDownload:a("Download results of the analysis in {{formatName}} format.",{formatName:"NDJSON"}),onDownload:S,isRunning:O,isDone:R}),(0,L.jsx)(by,{Icon:bu.$,filename:b.filenameCsv,HelpMain:a("Summarized results of the analysis in {{formatName}} format.",{formatName:"CSV"}),HelpDetails:a("Contains summarized results of the analysis, such as clades, mutations, QC metrics etc., in tabular format. Convenient for further review and processing using spreadsheets or data-science tools."),HelpDownload:a("Download summarized results in {{formatName}} format.",{formatName:"CSV"}),Config:n,onDownload:F,isRunning:D,isDone:E}),(0,L.jsx)(by,{Icon:bu.yH,filename:b.filenameTsv,HelpMain:a("Summarized results of the analysis in {{formatName}} format.",{formatName:"TSV"}),HelpDetails:a("Contains summarized results of the analysis, such as clades, mutations, QC metrics etc., in tabular format. Convenient for further review and processing using spreadsheets or data-science tools."),HelpDownload:a("Download summarized results in {{formatName}} format.",{formatName:"TSV"}),Config:n,onDownload:I,isRunning:G,isDone:H}),d&&(0,L.jsx)(by,{Icon:bu.FE,filename:b.filenameTree,HelpMain:a("Phylogenetic tree with sequences placed onto it, in {{formatName}} format.",{formatName:"Auspice JSON v2"}),HelpDetails:(0,L.jsxs)(L.Fragment,{children:[a("Can be viewed locally with Nextstrain Auspice or in "),(0,L.jsx)(bv.N,{url:"https://auspice.us",children:"auspice.us"}),"."]}),HelpDownload:a("Download phylogenetic tree with sequences placed onto it, in {{formatName}} format.",{formatName:"Auspice JSON v2"}),onDownload:d.fn,isRunning:d.isRunning,isDone:d.isDone}),e&&(0,L.jsx)(by,{Icon:bu.yZ,filename:b.filenameTreeNwk,HelpMain:a("Phylogenetic tree with sequences placed onto it, in {{formatName}} format.",{formatName:"Newick"}),HelpDetails:(0,L.jsxs)(L.Fragment,{children:[a("Can be viewed in most tree viewers, including: "),(0,L.jsx)(bv.N,{url:"https://icytree.org/",children:"icytree.org"}),a(" or "),(0,L.jsx)(bv.N,{url:"https://auspice.us",children:"auspice.us"}),"."]}),HelpDownload:a("Download phylogenetic tree with sequences placed onto it, in {{formatName}} format.",{formatName:"Newick"}),onDownload:e.fn,isRunning:e.isRunning,isDone:e.isDone}),(0,L.jsx)(by,{Icon:bu.Dt,filename:b.filenameFasta,HelpMain:a("Aligned sequences in {{formatName}} format.",{formatName:"FASTA"}),HelpDetails:a("Contains aligned sequences in {{formatName}} format.",{formatName:"FASTA"}),HelpDownload:a("Download aligned sequences in {{formatName}} format.",{formatName:"FASTA"}),onDownload:C,isRunning:A,isDone:B}),c&&(0,L.jsx)(by,{Icon:bu.St,filename:b.filenamePeptidesZip,HelpMain:a("Aligned peptides in {{formatName}} format, zipped",{formatName:"FASTA"}),HelpDetails:a("Contains results of translation of your sequences. One {{formatName}} file per gene, all in a zip archive.",{formatName:"FASTA"}),HelpDownload:a("Download aligned peptides in {{formatName}} format, one file per gene, all in a zip archive.",{formatName:"FASTA"}),onDownload:c.fn,isRunning:c.isRunning,isDone:c.isDone}),(0,L.jsx)(by,{Icon:bu.GT,filename:b.filenameGff,HelpMain:a("Genome annotations in {{formatName}} format",{formatName:"GFF3"}),HelpDetails:(0,L.jsxs)(L.Fragment,{children:[a("Contains genome annotation for each of your sequences (except for sequences which had errors during analysis). See: "),(0,L.jsx)(bv.N,{url:"https://github.com/The-Sequence-Ontology/Specifications/blob/master/gff3.md",children:a("GFF3 format specification")}),"."]}),HelpDownload:a("Download genome annotation in {{formatName}} format, one file per gene, all in a zip archive.",{formatName:"GFF3"}),onDownload:l.fn,isRunning:l.isRunning,isDone:l.isDone}),(0,L.jsx)(by,{Icon:bu.nl,filename:b.filenameTbl,HelpMain:a("Genome annotations in Genbank 5-column tab-delimited feature table (TBL) format."),HelpDetails:(0,L.jsxs)(L.Fragment,{children:[a("Contains genome annotation for each of your sequences (except for sequences which had errors during analysis). See: "),(0,L.jsx)(bv.N,{url:"https://www.ncbi.nlm.nih.gov/genbank/feature_table/",children:a("TBL format specification")}),"."]}),HelpDownload:a("Download genome annotation in {{formatName}} format, one file per gene, all in a zip archive.",{formatName:"GFF3"}),onDownload:m.fn,isRunning:m.isRunning,isDone:m.isDone}),(0,L.jsx)(by,{Icon:bu.St,filename:b.filenameZip,HelpMain:a("All files in a {{formatName}} archive.",{formatName:"zip"}),HelpDetails:a("Contains all of the above files in a single {{formatName}} file.",{formatName:"zip"}),HelpDownload:a("Download all in {{formatName}} archive.",{formatName:"zip"}),onDownload:z,isRunning:x,isDone:y})]})}function by(a){var d=a.Icon,b=a.filename,e=a.HelpMain,f=a.HelpDetails,g=a.HelpDownload,h=a.Config,i=a.onDownload,c=a.isRunning,j=a.isDone,k=(0,N.useCallback)(function(){return i(b)},[b,i]),l=b.length>0,m=(0,N.useMemo)(function(){return c?(0,L.jsx)(bB,{size:"10px"}):j?(0,L.jsx)(bD,{}):(0,L.jsx)(bC,{})},[j,c]);return(0,L.jsxs)(bF,{className:"d-flex",children:[(0,L.jsx)("span",{className:"flex-grow-0",children:(0,L.jsx)(d,{})}),(0,L.jsxs)("div",{className:"mx-3 d-inline-block flex-grow-1",children:[(0,L.jsx)("pre",{className:"mb-0 export-file-filename",children:b}),(0,L.jsx)("p",{className:"my-0 small",children:e}),(0,L.jsx)("p",{className:"my-0 small",children:f}),h]}),(0,L.jsx)("div",{className:"d-inline-block ml-auto my-auto",children:(0,L.jsx)(bz,{color:"primary",disabled:c||!l,title:g,onClick:k,children:m})})]})}var bz=(0,b.ZP)(e.Z).withConfig({componentId:"sc-ec8db14d-0"})(z()),bA=(0,b.ZP)(e.Z).withConfig({componentId:"sc-ec8db14d-1"})(A()),bB=(0,b.ZP)(h.Z).withConfig({componentId:"sc-ec8db14d-2"})(B()),bC=(0,b.ZP)(d.tEr).withConfig({componentId:"sc-ec8db14d-3"})(C()),bD=(0,b.ZP)(d.HhX).withConfig({componentId:"sc-ec8db14d-4"})(D()),bE=(0,b.ZP)(y.w7).withConfig({componentId:"sc-ec8db14d-5"})(E()),bF=b.ZP.li.withConfig({componentId:"sc-ec8db14d-6"})(F()),bG=a(62399);function bH(b,a){return a||(a=b.slice(0)),Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(a)}}))}function G(){var a=bH(["\n  max-width: ",";\n  margin: auto;\n  padding: 0.8rem 0;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  height: 100%;\n  overflow: hidden;\n"]);return G=function(){return a},a}function H(){var a=bH(["\n  display: flex;\n  flex: 0;\n  padding-left: 10px;\n  margin-top: 10px;\n  margin-bottom: 3px;\n"]);return H=function(){return a},a}function I(){var a=bH(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  overflow: auto;\n"]);return I=function(){return a},a}function bI(){var b,c=(0,aU._)().t,f=(0,M.useRouter)().asPath,e=(0,N.useState)(null!==(b=f.split("#")[1])&& void 0!==b?b:"files"),d=e[0],a=e[1];return(0,L.jsx)(bG.A,{children:(0,L.jsxs)(bJ,{children:[(0,L.jsx)(bK,{children:(0,L.jsx)("h4",{className:"mx-auto",children:c("Download output files")})}),(0,L.jsxs)(bL,{children:[(0,L.jsxs)(O.KT,{children:[(0,L.jsx)(O.Hu,{tabId:"files",activeTabId:d,setActiveTabId:a,children:c("Files")}),(0,L.jsx)(O.Hu,{tabId:"column-config",activeTabId:d,setActiveTabId:a,children:c("Column config")})]}),(0,L.jsxs)(O.I5,{activeTab:d,children:[(0,L.jsx)(O.Jm,{tabId:"files",children:(0,L.jsx)(bx,{setActiveTabId:a})}),(0,L.jsx)(O.Jm,{tabId:"column-config",children:(0,L.jsx)(ba,{setActiveTabId:a})})]})]})]})})}var bJ=b.ZP.div.withConfig({componentId:"sc-b40de320-0"})(G(),function(a){return a.theme.containerMaxWidths.md}),bK=b.ZP.div.withConfig({componentId:"sc-b40de320-1"})(H()),bL=b.ZP.div.withConfig({componentId:"sc-b40de320-2"})(I())}},function(a){a.O(0,[189,538,774,888,179],function(){return a(a.s=72773)}),_N_E=a.O()}])
//# sourceMappingURL=export-77287d90f1b77ada.js.map